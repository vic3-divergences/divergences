je_kor_unsan_mine_depleted = {
    icon = "gfx/interface/icons/event_icons/event_fire.dds"

    group = je_group_internal_affairs

    timeout = 735

    immediate = {
        if = {
            limit = {            
                THIS = c:KOR
                c:JAP = { has_subject_relation_with = c:KOR }
            }
            c:JAP = { trigger_event = { id = dvg_kor_flavor_events.13 days = 31 } } #Japan is notified of the Unsan mine 
        }
        set_variable = kor_has_unsan_struggles
    }

    on_timeout = {
        hidden_effect = {        
            trigger_event = { id = dvg_kor_flavor_events.13 days = 31 } #jinnampo event chain
            remove_variable = kor_has_unsan_struggles
        }
    }

	on_monthly_pulse = {
		random_events = {
			180 = 0
            15 = dvg_kor_flavor_events.4 # the laborers demand payment (or be mad)
            15 = dvg_kor_flavor_events.5 # the people need someone to blame (the king or the government)
            20 = dvg_kor_flavor_events.6 # miners and prospectors leave (and enter manchuria or qingqiu)
            10 = dvg_kor_flavor_events.7 # Confucian officials urge to abandon the mines
            10 = dvg_kor_flavor_events.8 # the growing need for advanced technology (pay to get atmospheric engines or watertube boilers)
        }
        #     10 = dvg_kor_flavor_events.9 # hire local prospectors to search for more gold (a lottery - they give you money or ends with a flop)
        #     10 = dvg_kor_flavor_events.10 # local businesses suffer from lack of traffic (PB is mad)
        #     10 = dvg_kor_flavor_events.11 # the abandoned mineshafts generate pollution
        #     10 = dvg_kor_flavor_events.12 # Japan demands annual tribute
		# }
	}

    complete = {

        any_scope_state = {
            state_region = s:STATE_PYONGYANG
        }
        has_technology_researched = watertube_boiler
        has_technology_researched = nitroglycerin
    }

    on_complete = {
        trigger_event = { id = dvg_kor_flavor_events.3 } #reactivate the Unsan mine
    }

    invalid = {
        
    }

    weight = 10
}

je_kor_trouble_and_uncertainty = {

    icon = "gfx/interface/icons/event_icons/event_neo_confucianism.dds"

    group = je_group_internal_affairs

    complete = {
		is_subject = no
		is_at_war = no 
		is_diplomatic_play_committed_participant = no
        NOT = {
            any_scope_treaty = {
                binds = c:JAP
                any_scope_article = {
                    has_type = guarantee_independence
                }
            }
        }
    }

    on_complete = {
        trigger_event = { id = dvg_kor_flavor_events.3 } #reactivate the Unsan mine
    }

    invalid = {
        
    }

    weight = 10
}

je_kor_granary_of_asia = {
    icon = "gfx/interface/icons/event_icons/event_fire.dds"

    group = je_group_internal_affairs

	on_monthly_pulse = {
		random_events = {
			180 = 0
            15 = dvg_kor_flavor_events.4 # the laborers demand payment (or be mad)
            15 = dvg_kor_flavor_events.5 # the people need someone to blame (the king or the government)
            20 = dvg_kor_flavor_events.6 # miners and prospectors leave (and enter manchuria or qingqiu)
            10 = dvg_kor_flavor_events.7 # Confucian officials urge to abandon the mines
            10 = dvg_kor_flavor_events.8 # the growing need for advanced technology (pay to get atmospheric engines or watertube boilers)
        }
        #     10 = dvg_kor_flavor_events.9 # hire local prospectors to search for more gold (a lottery - they give you money or ends with a flop)
        #     10 = dvg_kor_flavor_events.10 # local businesses suffer from lack of traffic (PB is mad)
        #     10 = dvg_kor_flavor_events.11 # the abandoned mineshafts generate pollution
        #     10 = dvg_kor_flavor_events.12 # Japan demands annual tribute
		# }
	}

    complete = {
        has_law = law_type:law_agrarianism
        has_law = law_type:law_free_trade
    }

    on_complete = {
        trigger_event = { id = dvg_kor_flavor_events.3 } #reactivate the Unsan mine
    }

    invalid = {
    }

    weight = 10
}