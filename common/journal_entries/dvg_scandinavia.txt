je_sca_chaos_under_four_crowns = { #Scandinavia main JE
	icon = "gfx/interface/icons/event_icons/event_scales.dds"

	group = je_group_internal_affairs
	
	should_be_pinned_by_default = yes
	
	modifiers_while_active = {
		dvg_sca_chaos_under_four_crowns_modifier
	}
	
	complete = {
		
	}
	
	on_complete = {
		set_variable = dvg_sca_cufc_complete
	}
}

je_sca_cufc_finland = { #Dealing with Finland

	group = je_group_internal_affairs
	
	possible = {
		c:SCA = ROOT
		ROOT = {
			has_journal_entry = je_sca_chaos_under_four_crowns
			any_scope_state = {
				owner = ROOT
				state_region = {
					is_homeland = cu:finnish
				}
			}
		}
	}
	
	is_shown_when_inactive = {
		c:SCA = ROOT
	}
}

je_sca_cufc_baltic = { #Dealing with the Baltics

	group = je_group_internal_affairs

	possible = {
		c:SCA = ROOT
		ROOT = {
			has_journal_entry = je_sca_chaos_under_four_crowns
		}
		any_scope_state = {
			owner = ROOT
			ROOT = {
				OR = {
					has_state_in_state_region = STATE_ESTONIA
					has_state_in_state_region = STATE_LATVIA
					has_state_in_state_region = STATE_COURLAND
				}
			}
		}
	}

	is_shown_when_inactive = {
		c:SCA = ROOT
	}	
}

je_sca_cufc_germany = { #Dealing with Germany

	group = je_group_internal_affairs
	
	possible = {
		c:SCA = ROOT
		ROOT = {
			has_journal_entry = je_sca_chaos_under_four_crowns
			any_scope_state = {
				owner = ROOT
				state_region = {
					OR = {
						is_homeland = cu:north_german
						is_homeland = cu:south_german
						is_homeland = cu:rheinish
					}
				}
			}
		}
	}

	is_shown_when_inactive = {
		c:SCA = ROOT
	}
}

je_sca_cufc_karelia = { #The Karelian March

	group = je_group_internal_affairs
	
	scripted_button = dvg_expand_karelian_march_button

	modifiers_while_active = {
		dvg_sca_karelian_march_widespread_acceptance_modifier
	}
	
	is_shown_when_inactive = {
		c:SCA = ROOT
	}
	
	possible = {
		c:SCA = ROOT
		ROOT = {
			any_scope_state = {
				owner = ROOT
				state_region = {
					is_homeland = cu:karelian
				}
			}
		}
	}	
}

###Leave gap here for more CUFC content if needed###

je_sca_highland_clearings = {

	group = je_group_internal_affairs

	should_be_pinned_by_default = yes

	#this is in the scripted progress bar file :3
	scripted_progress_bar = dvg_scandinavia_highland_clearances_progress_bar

	possible = {
		c:SCA = ROOT
		ROOT = {
			any_scope_state = {
				owner = ROOT
				OR = {
					state_region = s:STATE_LOWLANDS
					state_region = s:STATE_HIGHLANDS
				}
			}
		}
	}
	
	fail = {
		OR = {
			ROOT = {
				NOT = {
					owns_entire_state_region = STATE_HIGHLANDS
				}
			}
			ROOT = {
				NOT = {
					owns_entire_state_region = STATE_LOWLANDS
				}
			}
		}
		custom_tooltip = {
			NOT = {
				any_civil_war = {
					is_civil_war_type = revolution
				}
			}
			text = sca_not_in_civil_war_tt
		}
	}
	
	on_fail = {
		custom_tooltip = {
			text = tt_sca_lost_scotland
			set_local_variable = {
				name = dvg_sca_kings_watch_je_var
				value = je:je_sca_kings_watch
			}
			set_variable = { name = var_sca_total_loss_of_scotland_tt }
		}
	}
	
	complete = {
		custom_tooltip = {
			text = highlands_lairds_have_been_cleared_progress_bar_tt
			scope:journal_entry = { "scripted_bar_progress(dvg_scandinavia_highland_clearances_progress_bar)" >= 200 }
		}
	}
	
	on_complete = {
		s:STATE_HIGHLANDS = {
			remove_state_trait = state_trait_scottish_highlands
			add_state_trait = state_trait_managed_scottish_highlands
		}
		custom_tooltip = {
			text = sca_actually_highland_clearances_are_quite_good_according_to_the_lairds_at_least_tt
			set_variable = { name = var_sca_completed_highland_clearings_var }
		}
	}
	

}

je_sca_kings_watch = { #The Nobility and Monarch seeing the cufc stuff go down

	icon = "gfx/interface/icons/event_icons/event_protest.dds"

	group = je_group_internal_affairs
	
	should_be_pinned_by_default = yes
	
	complete = {
		OR = {
			custom_tooltip = {
				text = dvg_sca_kings_watch_complete_tt
				has_variable = dvg_sca_cufc_complete
			}
		
			AND = {
				NOT = {  has_law = law_type:law_monarchy  }
				ig:ig_landowners = {
					is_marginal = yes
				}			
			}
		}
	}
	
	#this is in the scripted progress bar file :3
	scripted_progress_bar = dvg_scandinavia_kings_anger_progress_bar
}