law_guild_system = {
	group = lawgroup_labour_associations

	icon = "gfx/interface/icons/law_icons/guild_system.dds"

	progressiveness = -50

	on_enact = {
		if = {
			limit = {
				OR = {
					has_law_or_variant = law_type:law_right_to_associate
					has_law_or_variant = law_type:law_corporatized_unions
				}
			}
			custom_tooltip = trade_unions_more_radical_effect_tt
		}
		if = {
			limit = {
					has_law_or_variant = law_type:law_corporatized_unions
			}
			custom_tooltip = trade_unions_less_corporatist_effect_tt
		}
	}

	disallowing_laws = {
		law_laissez_faire
	}

	modifier = {
		# Limits building to self-investing

		building_group_bg_manufacturing_allowed_collectivization_add = 0.25
		building_group_bg_mining_allowed_collectivization_add = 0.25
		building_group_bg_extraction_allowed_collectivization_add = 0.25
		building_group_bg_power_allowed_collectivization_add = 0.25
		building_group_bg_private_infrastructure_allowed_collectivization_add = 0.25
		building_group_bg_arts_allowed_collectivization_add = 0.25

		country_shopkeepers_pol_str_mult = 0.25

		state_pop_qualifications_mult = -0.30
	}

	ai_will_do = {
		NOT = { has_technology_researched = corporatism }
		any_interest_group = {
			is_in_government = yes
			leader ?= {
				OR = {
					has_ideology = ideology:ideology_traditionalist
					has_ideology = ideology:ideology_traditionalist_minoritarian
					has_ideology = ideology:ideology_legitimist
				}
			}
		}
	}

	ai_enact_weight_modifier = { #Petitions
		value = 0

		if = {
			limit = { ai_has_enact_weight_modifier_journal_entries = yes }
			add = 750
		}
	}
}

law_combination_acts = {
	group = lawgroup_labour_associations

	icon = "gfx/interface/icons/law_icons/combination_acts.dds"

	progressiveness = 0

	on_enact = {
		if = {
			limit = {
				OR = {
					has_law_or_variant = law_type:law_right_to_associate
				}
			}
			custom_tooltip = trade_unions_much_more_radical_effect_tt
		}
		if = {
			limit = {
				OR = {
					has_law_or_variant = law_type:law_guild_system
					has_law_or_variant = law_type:law_anti_strike_laws
					has_law_or_variant = law_type:law_corporatized_unions
				}
			}
			custom_tooltip = trade_unions_more_radical_effect_tt
		}
		if = {
			limit = {
					has_law_or_variant = law_type:law_corporatized_unions
			}
			custom_tooltip = trade_unions_less_corporatist_effect_tt
		}
	}

	modifier = {
		interest_group_ig_trade_unions_pol_str_mult = -0.25
		state_radicals_from_political_movements_mult = 0.25
		state_pop_support_movement_labor_mult = -0.10
		state_pop_support_movement_communist_mult = 0.10
		state_pop_support_movement_anarchist_mult = 0.10
		state_pop_support_movement_socialist_mult = 0.10
	}

	ai_enact_weight_modifier = { #Petitions
		value = 0

		if = {
			limit = { ai_has_enact_weight_modifier_journal_entries = yes }
			add = 750
		}

		# AI should really try to get out of Guild System under the right circumstances
		if = {
			limit = {
				has_law_or_variant = law_type:law_guild_system
				NOT = { has_strategy = ai_strategy_reactionary_agenda }
				OR = {
					NOT = { has_strategy = ai_strategy_conservative_agenda }
					any_political_movement = {
						law_enactment_stance = {
							law = law_type:law_combination_acts
							value > neutral
						}
						political_movement_support >= 0.10
					}
				}
			}
			add = 1000
		}
	}
}

law_anti_strike_laws = {
	group = lawgroup_labour_associations

	icon = "gfx/interface/icons/law_icons/anti_strike_laws.dds"

	progressiveness = 25

	on_enact = {
		if = {
			limit = {
				OR = {
					has_law_or_variant = law_type:law_right_to_associate
					has_law_or_variant = law_type:law_corporatized_unions
				}
			}
			custom_tooltip = trade_unions_more_radical_effect_tt
		}
		if = {
			limit = {
				OR = {
					has_law_or_variant = law_type:law_guild_system
					has_law_or_variant = law_type:law_combination_acts
				}
			}
			custom_tooltip = trade_unions_less_radical_effect_tt
		}
		if = {
			limit = {
					has_law_or_variant = law_type:law_corporatized_unions
			}
			custom_tooltip = trade_unions_less_corporatist_effect_tt
		}
	}

	modifier = {
		interest_group_ig_trade_unions_pol_str_mult = -0.10
		state_radicals_from_political_movements_mult = 0.10
		state_pop_support_movement_labor_mult = -0.05
		state_pop_support_movement_communist_mult = 0.05
		state_pop_support_movement_anarchist_mult = 0.05
		state_pop_support_movement_socialist_mult = 0.05
	}

	ai_enact_weight_modifier = { #Petitions
		value = 0

		if = {
			limit = { ai_has_enact_weight_modifier_journal_entries = yes }
			add = 750
		}

		# AI should really try to get out of Guild System under the right circumstances
		if = {
			limit = {
				has_law_or_variant = law_type:law_guild_system
				NOT = { has_strategy = ai_strategy_reactionary_agenda }
				OR = {
					NOT = { has_strategy = ai_strategy_conservative_agenda }
					any_political_movement = {
						law_enactment_stance = {
							law = law_type:law_anti_strike_laws
							value > neutral
						}
						political_movement_support >= 0.10
					}
				}
			}
			add = 1000
		}
	}
}

law_right_to_associate = {
	group = lawgroup_labour_associations

	icon = "gfx/interface/icons/law_icons/right_to_associate.dds"

	progressiveness = 50

	on_enact = {
		if = {
			limit = {
				has_law_or_variant = law_type:law_corporatized_unions
			}
			custom_tooltip = trade_unions_more_radical_effect_tt
		}

		if = {
			limit = {
					has_law_or_variant = law_type:law_combination_acts
			}
			custom_tooltip = trade_unions_much_less_radical_effect_tt
		}
		else_if = {
			limit = {
				OR = {
					has_law_or_variant = law_type:law_guild_system
					has_law_or_variant = law_type:law_combination_acts
					has_law_or_variant = law_type:law_anti_strike_laws
				}
			}
			custom_tooltip = trade_unions_less_radical_effect_tt
		}

		if = {
			limit = {
					has_law_or_variant = law_type:law_corporatized_unions
			}
			custom_tooltip = trade_unions_less_corporatist_effect_tt
		}
	}

	modifier = {
		interest_group_ig_trade_unions_pol_str_mult = 0.10
		state_radicals_from_political_movements_mult = -0.10
		state_pop_support_movement_labor_mult = 0.10
	}

	ai_enact_weight_modifier = { #Petitions
		value = 0

		if = {
			limit = { ai_has_enact_weight_modifier_journal_entries = yes }
			add = 750
		}

		# AI should really try to get out of Guild System under the right circumstances
		if = {
			limit = {
				has_law_or_variant = law_type:law_guild_system
				NOT = { has_strategy = ai_strategy_reactionary_agenda }
				OR = {
					NOT = { has_strategy = ai_strategy_conservative_agenda }
					any_political_movement = {
						law_enactment_stance = {
							law = law_type:law_right_to_associate
							value > neutral
						}
						political_movement_support >= 0.10
					}
				}
			}
			add = 500
		}
	}
}

law_corporatized_unions = {
	group = lawgroup_labour_associations

	icon = "gfx/interface/icons/law_icons/corporatized_unions.dds"

	progressiveness = 25

	unlocking_technologies = {
		corporatism
	}

	on_enact = {
		if = {
			limit = {
				has_law_or_variant = law_type:law_combination_acts
			}
			custom_tooltip = trade_unions_less_radical_effect_tt
		}
		if = {
			limit = {
				OR = {
					has_law_or_variant = law_type:law_guild_system
					has_law_or_variant = law_type:law_anti_strike_laws
					has_law_or_variant = law_type:law_combination_acts
					has_law_or_variant = law_type:law_right_to_associate
				}
			}
			custom_tooltip = trade_unions_more_corporatist_effect_tt
		}
	}

	modifier = {
		state_radicals_and_loyalists_from_sol_change_mult = 0.15
		state_pop_support_movement_communist_mult = -0.05
		state_pop_support_movement_anarchist_mult = -0.05
		state_pop_support_movement_socialist_mult = -0.05
	}

	ai_will_do = {
		any_interest_group = {
			is_in_government = yes
			OR = {
				has_ideology = ideology:ideology_corporatist
				leader ?= {
					OR = {
						has_ideology = ideology:ideology_bonapartist
						has_ideology = ideology:ideology_fascist
						has_ideology = ideology:ideology_integralist
						has_ideology = ideology:ideology_corporatist_leader
					}
				}
			}
		}
	}

	ai_enact_weight_modifier = { #Petitions
		value = 0

		if = {
			limit = { ai_has_enact_weight_modifier_journal_entries = yes }
			add = 750
		}
	}
}
