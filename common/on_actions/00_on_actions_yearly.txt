# Fired off on_yearly_pulse_country

# Generic Pulse
on_yearly_events = {
	random_events = {
		chance_to_happen = 65
		20 = government_conflicts.1
		20 = government_conflicts.2
		20 = government_conflicts.3
		20 = government_conflicts.4
		20 = government_conflicts.5
		20 = government_conflicts.6
		20 = government_conflicts.7
		20 = government_conflicts.8
		20 = government_conflicts.9
		20 = government_conflicts.10
		20 = government_conflicts.11
		#
		20 = goldrush.3
		20 = goldrush.4
		#
		20 = ig_leaders.20
		20 = ig_leaders.4
		20 = ig_leaders.5
		20 = ig_leaders.6

		#Character Events
		20 = acceptance_events.1
		20 = character_events.2
		10 = character_events.3
		10 = character_events.4
		20 = character_events.5
		100 = character_events.6

		# Border Situations
		20 = neighbor_events.1
		20 = neighbor_events.2
		20 = neighbor_events.3
		20 = neighbor_events.4
		20 = neighbor_events.5
		20 = neighbor_events.6
		20 = neighbor_events.7

		# Commander Events
		20 = commander_events.2
		20 = commander_events.4
		20 = commander_events.5
		5 = commander_events.6

		# Law Events
		50 = law_events.5
		50 = law_events.6

		# Cultural Homeland Events
		10 = cultural_homeland_events.1
		10 = cultural_homeland_events.10
		10 = cultural_homeland_events.20
		10 = cultural_homeland_events.30
		10 = cultural_homeland_events.40
		10 = cultural_homeland_events.50

		#IG Suppression
		20 = ig_suppression_events.1

		# Technology
		20 = technology_events.1
		20 = technology_events.10
		20 = technology_events.20
		20 = technology_events.30
		20 = technology_events.40
		20 = technology_events.50

		# Industrial Accidents
		10 = industrial_accident_events.1
		5 = industrial_accident_events.2
		10 = industrial_accident_events.3
		10 = industrial_accident_events.4
		20 = industrial_accident_events.5
		20 = industrial_accident_events.6

		# Crime (Why do police not just comment out crime events?)
		10 = crime_events.1
		10 = crime_events.2
		10 = crime_events.10

		# Obligations
		10 = obligation_events.1
		10 = obligation_events.3
		10 = obligation_events.5

		# Prostitution and police
		20 = prostitution.1
		100 = prostitution.2
		20 = prostitution.3
		20 = prostitution.4
		20 = cable_street.1

		#Natural Disasters
		3 = natural_disaster_events.1
		3 = natural_disaster_events.2
		1 = natural_disaster_events.3
		1 = natural_disaster_events.4
		20 = natural_disaster_events.5
		3 = natural_disaster_events.6
		3 = natural_disaster_events.7
		1 = natural_disaster_events.8

		# Warlords
		#20 = warlord_china_events.110
		#20 = warlord_china_events.301

		# Assassination
		10 = assassination_events.1

		# Oil Rush Scandal
		20 = oil_rush.5

		#Decree
		20 = decree_events.1
		20 = decree_events.2
		20 = decree_events.3
		20 = decree_events.4
		20 = decree_events.5
		20 = decree_events.6
		20 = decree_events.100
		20 = decree_events.101
		20 = decree_events.102
		20 = decree_events.103
		20 = decree_events.104
		20 = decree_events.105
		20 = decree_events.106
		20 = decree_events.107
		20 = decree_events.108
		20 = decree_events.109

		50 = strike.5
		50 = strike.6
		50 = strike.7

		#10 = opium_wars.8

		10 = communism.7
		10 = communism.9

		#psychology
		20 = psychology_events.1
		20 = psychology_events.2
		20 = psychology_events.3
		20 = psychology_events.4
		20 = psychology_events.5
		20 = psychology_events.6

		#nationalism
		20 = fascism_events.8

		20 = dreadnought_hoax.1

		20 = autocracy.2
		20 = autocracy.3

		# rivalry events
		10 = diplomatic_friction.1
		10 = diplomatic_friction.2
		10 = diplomatic_friction.20

		# Titanic
		10 = titanic.1

		# trains
		5 = trains.1

		30 = cholera.1

		# Slave revolts
		5 = slave_revolt.1
		5 = slave_revolt.2
		5 = slave_revolt.3
		5 = slave_revolt.4

		# Discrimination Events
		10 = discrimination_events.1
		10 = discrimination_events.2
		10 = discrimination_events.3
		10 = discrimination_events.4

		# Trade routes
		20 = trade_route_events.1
		20 = trade_route_events.2
		20 = trade_route_events.3
		20 = trade_route_events.4
		20 = trade_route_events.5

		#PMs
		20 = pm_events.1
		20 = pm_events.2
		20 = pm_events.4
		20 = pm_events.5

		# Additional 1848
		10 = 1848.10
		10 = 1848.11
		10 = 1848.12

		# Vampire Panic
		1 = vampire_panic.1

		# Utopians
		30 = utopian.1
	}
}

# Springtie of Peoples
springtime_of_peoples_yearly_events = {
	random_events = {
		chance_to_happen = 20
		1 = peoples_springtime.6
	}
}

# Landowners become Oligarchic
bp1_misc_yearly_events = {
	random_events = {
		chance_to_happen = 20
		#1 = bp1_misc.3
	}
}


ep1_misc_yearly_events = {
	random_events = {
		chance_to_happen = 50
	}
}

# Exiles
exiles_yearly_events = {
	random_events = {
		chance_to_happen = 25
		10 = exiles_events.1
		10 = exiles_events.2
		10 = exiles_events.3
		10 = exiles_events.4
		10 = exiles_events.5
		10 = exiles_events.6
		10 = exiles_events.7
		10 = exiles_events.8
		10 = exiles_events.9
		10 = exiles_events.10

		10 = exiles_more_events.1
		10 = exiles_more_events.3
		10 = exiles_more_events.4
		10 = exiles_more_events.5
		5 = exiles_more_events.6
		10 = exiles_more_events.7
		10 = exiles_more_events.8
		10 = exiles_more_events.9
		10 = exiles_more_events.10
	}
}

#Commenting this out, but not deleting it, for when we add Divergences agitators
## Historical Agitators
#historical_agitators_yearly_events = {
#	random_events = {
#		chance_to_happen = 25
#		10 = historical_agitators.1
#		10 = historical_agitators.2
#		10 = historical_agitators.3
#		10 = historical_agitators.4
#		10 = historical_agitators.5
#		10 = historical_agitators.6
#		300 = historical_agitators.8
#		2 = historical_agitators.9
#		10 = historical_agitators.10
#		10 = historical_agitators.11
#		10 = historical_agitators.12
#		10 = historical_agitators.13
#		10 = historical_agitators.14
#		10 = historical_agitators.15
#		10 = historical_agitators.16
#		10 = historical_agitators.17
#		10 = historical_agitators.18
#		10 = historical_agitators.19
#		10 = historical_agitators.20
#		10 = historical_agitators.21
#		10 = historical_agitators.22
#		100 = gg_korea.3
#		100 = sikh_empire.9
#		100 = india_nationalism_events.4
#		100 = india_nationalism_events.5
#	}
#}

# Slavery Abolition
slavery_abolition_yearly_events = {
	random_events = {
		chance_to_happen = 20
		1 = slavery_law_events.7
	}
}

# Lobby Events
lobby_yearly_events = {
	random_events = {
		chance_to_happen = 25
		5 = lobby_events.1
		5 = lobby_events.2
		5 = lobby_events.3
		5 = lobby_events.4
		5 = lobby_events.5
		5 = lobby_events.6
		5 = lobby_events.7
		5 = lobby_events.8
		5 = lobby_events.9
		5 = lobby_events.10
		5 = lobby_events.11
		5 = lobby_events.12
		5 = lobby_events.13
		5 = lobby_events.14
		5 = lobby_events.15
		5 = lobby_events.16
		5 = lobby_events.17
		5 = lobby_events.18
		5 = lobby_events.19
		5 = lobby_events.20
		5 = lobby_events.21
		5 = lobby_events.22
		5 = lobby_events.23
		5 = lobby_events.24
		5 = lobby_events.25
		5 = lobby_events.26
		5 = lobby_events.27
		5 = lobby_events.28
		5 = lobby_events.29
		5 = lobby_events.30
		5 = lobby_events.31
		5 = lobby_events.32
		5 = lobby_events.33
		5 = lobby_events.34
		5 = lobby_events.35
		5 = lobby_events.36
		5 = lobby_events.37
		5 = lobby_events.38
		5 = lobby_events.39
		5 = lobby_events.40
		5 = lobby_events.51
		5 = lobby_events.52
		5 = lobby_events.53
		5 = lobby_events.54
		5 = lobby_events.55
		5 = lobby_events.56
		5 = lobby_events.57
		5 = lobby_events.58
		5 = lobby_events.59
		5 = lobby_events.60
	}
}

# Krakatoa
krakatoa_yearly_events = {
	random_events = {
		chance_to_happen = 2
		1 = krakatoa.1
	}
}

# British Dictates
british_dictate_yearly_events = {
	#random_events = {
		#chance_to_happen = 25
		#1 = british_dictates.1
		#1 = british_dictates.2
		#1 = british_dictates.4
	#}
}

# IP2 misc. yearly events
ip2_misc_yearly_events = {
	#random_events = {
	#	chance_to_happen = 50
	#	5 = india_events.1
	#	1 = india_events.5
	#	1 = india_events.6
	#	5 = india_events.9
	#	1 = india_events.10
	#	8 = india_events.12
	#	10 = india_events.13
	#	5 = india_events.14
	#	5 = india_events.15
	#	5 = india_events.16
	#	10 = india_events.17
	#}
}

# Famine Yearly Events
famine_yearly_events = {
	random_events = {
		chance_to_happen = 25
		1 = famine_events.3
		1 = famine_events.4
		1 = famine_political.1
		1 = famine_political.2
		1 = famine_political.3
		1 = famine_political.4
		1 = famine_political.5
	}
}

# IG Leader death
on_memento_mori = {
	trigger = {
		any_interest_group = {
			NOT = { has_variable = memento_mori }
			leader = {
				is_ruler = no
				is_heir = no
				is_busy = no
				is_immortal = no
				NOT = { has_variable = memento_mori_immunity }
			}
		}
	}
	effect = {
		random_list = {
			50 = {}
			50 = {
				# Kill IG leaders occasionally, but not too often per IG
				random_interest_group = {
					limit = {
						NOT = { has_variable = memento_mori }
						leader = {
							is_ruler = no
							is_heir = no
							is_busy = no
							is_immortal = no
							NOT = { has_variable = memento_mori_immunity }
						}
					}
					save_scope_as = memento_mori_ig
					leader = {
						save_scope_as = memento_mori_leader
					}
					set_variable = {
						name = memento_mori
						years = 10
					}
				}
				scope:memento_mori_leader = {
					kill_character = {
						hidden = yes
					}
				}
				post_notification = ig_leader_memento_mori
				# Kill an Agitator occasionally, but not too often
				if = {
					limit = {
						any_scope_character = {
							has_role = agitator
							is_immortal = no
							NOT = { has_variable = memento_mori_immunity }
						}
						NOT = { has_variable = agitator_kill_var }
					}
					random_list = {
						1 = {
							random_scope_character = {
								limit = {
									has_role = agitator
									is_immortal = no
									NOT = { has_variable = memento_mori_immunity }
								}
								kill_character = yes
							}
							set_variable = { # this variable is a cooldown
								name = agitator_kill_var
								years = 5
							}
						}
						4 = { }
					}
				}
				# Kill an Executive occasionally, but not too often
				if = {
					limit = {
						any_scope_character = {
							has_role = executive
							is_historical = no
							is_immortal = no
							NOT = { has_variable = memento_mori_immunity }
						}
						NOT = { has_variable = executive_kill_var }
					}
					random_list = {
						1 = {
							random_scope_character = {
								limit = {
									has_role = executive
									is_historical = no
									is_immortal = no
									NOT = { has_variable = memento_mori_immunity }
								}
								kill_character = yes
							}
							set_variable = { # this variable is a cooldown
								name = executive_kill_var
								years = 7
							}
						}
						4 = { }
					}
				}
			}
		}
	}
}

# On wounded
on_wounded = {
	trigger = {
		has_trait = wounded
	}
	effect = {
		random_list = {
			80 = {}
			20 = {
				remove_trait = wounded
			}
		}
	}
}

