beo_england_seperatist_button = {
    name = "beo_english_button"
    desc = "beo_english_button_desc"

    visible = {
        has_law = law_type:law_monarchy
        
    }
	cooldown = { days = normal_modifier_time }

    possible = {
        has_law = law_type:law_monarchy
        OR = {
            is_subject = no
            has_law = law_type:law_protected_speech
            has_law = law_type:law_right_of_assembly
        }
        has_technology_researched = nationalism
	}
    effect = {
		trigger_event = { id = dvg_england.1 days = 0 popup = yes }
        
		
		add_modifier = {
				name = funding_english_radicals
				days = normal_modifier_time
		}
		
        change_variable = {
            name = cavendish_var
            add = 20
        }
	}
}
beo_england_bribery_button = {
    name = "beo_bribery_button"
    desc = "beo_bribery_button_desc"

    visible = {
        has_law = law_type:law_monarchy
        taking_loans = no
    }
	cooldown = { days = normal_modifier_time }

    possible = {
        has_law = law_type:law_secret_police
        OR = {
            is_subject = no
            has_law = law_type:law_protected_speech
            has_law = law_type:law_right_of_assembly
        }
        has_technology_researched = nationalism
	}
    effect = {
		trigger_event = { id = dvg_england.1 days = 0 popup = yes }
		add_modifier = {
			name = funding_english_radicals
			days = normal_modifier_time
		}
		change_variable = {
			name = cavendish_var
			add = 15
		}
	}
}
beo_england_harold_sponsorship = {
    name = "beo_england_harold_sponsorship"
    desc = "beo_england_harold_sponsorship_desc"

    visible = {
        taking_loans = no
        NOT = {
        has_law = law_type:law_autocracy
        has_law = law_type:law_oligarchy
        has_law = law_type:law_landed_voting
        }
    }
	cooldown = { days = normal_modifier_time }

    possible = {
        has_law = law_type:law_secret_police
        OR = {
            is_subject = no
            has_law = law_type:law_protected_speech
            has_law = law_type:law_right_of_assembly
        }
        has_technology_researched = nationalism
	}
    effect = {
		trigger_event = { id = dvg_england.1 days = 0 popup = yes }
        change_variable = {
            name = cavendish_var
            add = 25
        }
		show_as_tooltip = {
			add_modifier = {
				name = funding_english_radicals
				days = normal_modifier_time
			}
		}
	}
}

beo_cancel_agitation_button = {
    name = "beo_cancel_agitation"
    desc = "beo_cancel_agitation_desc"

    visible = {
        has_journal_entry = je_england_reclaim
    }

    possible = {
        has_journal_entry = je_england_reclaim
	}
    effect = {
		set_global_variable = beo_reclaim_cancelled
	}
}

beo_hbe_button = {
    name = "beo_declare_communion"
    desc = "beo_declare_communion_desc"

    visible = {
        has_journal_entry = je_beornian_awakening
		has_game_rule = all_formable_nations
    }

    possible = {
        AND = {
            has_journal_entry = je_beornian_awakening
			has_journal_entry = je_beo_parishers
			has_journal_entry = je_beo_presbyterians
        }
		NOT = {
			has_law = law_type:law_total_separation
			has_law = law_type:law_state_atheism
		}
        authority > 500
        ruler = {
            popularity > 100
        }
	}
    effect = {
        trigger_event = {
            id = dvg_hbe.17
        }
		add_modifier = making_communion
	}
}

pendragon_fortress_button = {
	name = "pendragon_fortress_button"
	desc = "pendragon_fortress_button_desc"

	visible = {
		owns_entire_state_region = STATE_AVALON
		NOT = {
			has_global_variable = pendragon_fortress_global_var
		}
	}

	possible = {
		any_scope_state = {
			any_scope_building = {
				is_building_type = building_construction_sector
				level >= 4
			}
		}
	}

	effect = {
		trigger_event = { id = dvg_hbe.19 popup = yes }
		
		set_global_variable = pendragon_fortress_global_var
		show_as_tooltip = {
			random_scope_state = {
				limit = {
					state_region = s:STATE_AVALON
				}
				add_modifier = {
					name = humanita_fortress_modifier
					days = very_long_modifier_time
				}
			}
		}
	}
}

army_git_good_button = {
	name = "good_beo_army_button"
	desc = "good_beo_army_button_desc"

	visible = {
		any_scope_state = {
            state_region = {
                is_homeland = cu:beornian
            }
        }
		NOT = {
			has_global_variable = paraguay_army_reform_global_var
		}
	}

	possible = {
		OR = {
			has_law = law_type:law_professional_army
			has_law = law_type:law_mass_conscription
		}
		NOR = {
			any_scope_building = {
				is_building_type = building_barracks
				has_active_production_method = pm_no_organization
			}
			any_military_formation = {
				filter = {
					is_army = yes
				}
				any_combat_unit = {
					has_unit_type = unit_type:combat_unit_type_irregular_infantry
				}
				OR = {
				has_mobilization_option = mobilization_option:mobilization_option_liquor
				has_mobilization_option = mobilization_option:mobilization_option_tobacco
				}
		
				NOR = {
					has_mobilization_option = mobilization_option:mobilization_option_field_hospitals
					has_mobilization_option = mobilization_option:mobilization_option_first_aid
				}
				percent >= 0.50
			}
		}
	}

	effect = {
		set_global_variable = beornian_army_reform_global_var
		custom_tooltip = choose_one_of_tt

		change_variable = {
			name = new_hbe_var
			add = 1
		}

		ig:ig_devout = {
			add_modifier = {
				name = modifier_ig_approves
				months = 12
				is_decaying = yes
			}		
		}
		add_modifier = modifier_army_bolstered
		
	}
}