namespace = dvg_dua

# start event
dvg_dua.1 = {
	type = country_event
	placement = root
	title = dvg_dua.1.t
	desc = dvg_dua.1.d
	flavor = dvg_dua.1.f

	duration = 3

	event_image = {
		video = "votp_monarch_holding_court"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_protest.dds"

	trigger = {
	}

	immediate = {
		cu:anglois = {
			save_scope_as = anglois_culture
		}
		cu:french = {
			save_scope_as = french_culture
		}
		cu:british = {
			save_scope_as = english_culture
		}

		set_variable = {
			name = anglois_progress
			value = 0
		}
		set_variable = {
			name = french_progress
			value = 0
		}
		set_variable = {
			name = english_progress
			value = 0
		}
		set_variable = {
			name = dua_total_revolution_revolt
			value = 0
		}
	}

	option = {
		name = dvg_dua.1.a
		default_option = yes

		set_variable = french_path
		set_variable = supporting_french_var

		add_journal_entry = {
			type = je_french_integration
		}

		custom_tooltip = {
			text = french_encouraged_tt

			every_scope_state = {
				limit = {
					state_is_in_europe = yes
				}
				add_culture_standard_of_living_modifier = {
					culture = cu:british
					months = -1
					multiplier = -1
				}
				add_culture_standard_of_living_modifier = {
					culture = cu:french
					months = -1
					multiplier = 1
				}
			}
		}
		

		ig:ig_landowners = {
			leader = {
				set_ideology = ideology:ideology_dvg_french
			}
		}
		ig:ig_rural_folk = {
			leader = {
				set_ideology = ideology:ideology_dvg_french
			}
		}

		add_radicals = {
			value = 0.1
			culture = cu:british
		}

		ai_chance = {
			base = 50

			modifier = {
				trigger = {
					has_game_rule = anglois_culture_choice_french
				}
				add = 100
			}
			modifier = {
				trigger = {
					has_game_rule = anglois_culture_choice_english
				}
				add = -100
			}
			modifier = {
				trigger = {
					has_game_rule = anglois_culture_choice_anglois
				}
				add = -100
			}
		}
	}

	option = {
		name = dvg_dua.1.b

		set_variable = english_path
		set_variable = supporting_english_var

		add_journal_entry = {
			type = je_english_integration
		}
		custom_tooltip = {
			text = english_encouraged_tt

			every_scope_state = {
				limit = {
					state_is_in_europe = yes
				}
				add_culture_standard_of_living_modifier = {
					culture = cu:french
					months = -1
					multiplier = -1
				}
				add_culture_standard_of_living_modifier = {
					culture = cu:british
					months = -1
					multiplier = 1
				}
			}
		}
		

		ig:ig_landowners = {
			leader = {
				set_ideology = ideology:ideology_dvg_english
			}
		}
		ig:ig_industrialists = {
			leader = {
				set_ideology = ideology:ideology_dvg_english
			}
		}

		add_radicals = {
			value = 0.1
			culture = cu:french
		}
	
		add_radicals = {
			value = 0.1
			culture = cu:occitan
		}
	
		ai_chance = {
			base = 10

			modifier = {
				trigger = {
					has_game_rule = anglois_culture_choice_french
				}
				add = -100
			}
			modifier = {
				trigger = {
					has_game_rule = anglois_culture_choice_english
				}
				add = 100
			}
			modifier = {
				trigger = {
					has_game_rule = anglois_culture_choice_anglois
				}
				add = -100
			}
		}
	}

	option = {
		name = dvg_dua.1.c

		set_variable = anglois_path
		set_variable = supporting_anglois_var

		add_journal_entry = {
			type = je_dual_integration
		}

		add_journal_entry = {
			type = je_total_revolution
		}
		
		add_radicals = {
			value = 0.1
			culture = cu:french
		}
	
		add_radicals = {
			value = 0.1
			culture = cu:occitan
		}
	
		add_radicals = {
			value = 0.1
			culture = cu:british
		}

		trigger_event = {
			id = dvg_dua.101
			days = 30
		}

		ai_chance = {
			base = 40

			modifier = {
				trigger = {
					has_game_rule = anglois_culture_choice_french
				}
				add = -100
			}
			modifier = {
				trigger = {
					has_game_rule = anglois_culture_choice_english
				}
				add = -100
			}
			modifier = {
				trigger = {
					has_game_rule = anglois_culture_choice_anglois
				}
				add = 100
			}
		}
	}
}


# Anglois Success event
dvg_dua.2 = {
	type = country_event
	placement = root
	title = dvg_dua.2.t
	desc = dvg_dua.2.d
	flavor = dvg_dua.2.f

	icon = "gfx/interface/icons/event_icons/event_scales.dds"

	duration = 3

	event_image = {
		video = "gfx/event_pictures/europenorthamerica_london_center.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/europenorthamerica/london_center"

	trigger = {
	}

	immediate = {
		set_global_variable = anglois_accepted
	}

	option = {
		name = dvg_dua.2.a
		default_option = yes

		if = {
			limit = {
				NOT = { has_law = law_type:law_cultural_exclusion }
			}
			activate_law = law_type:law_cultural_exclusion
		}

		custom_tooltip = {
			text = dvg_anglois_homelands
			every_scope_state = {
				limit = {
					owner = ROOT
					state_region = {
						is_homeland = cu:french
					}
				}

				state_region = {
					add_homeland = cu:anglois
					remove_homeland = cu:french
				}
			}

			every_scope_state = {
				limit = {
					owner = ROOT
					state_region = {
						is_homeland = cu:british
					}
				}

				state_region = {
					add_homeland = cu:anglois
					remove_homeland = cu:british
				}
			}
		}

		custom_tooltip = {
			text = dvg_anglois_assimilate
			every_scope_state = {
				limit = {
					owner = ROOT
					state_region = {
						is_homeland = cu:anglois
					}
				}
				add_modifier = {
					name = dvg_assimilate
					months = 60
				}
			}
		}
		
		add_loyalists = {
			value = 0.2
			culture = cu:anglois
		}

		add_loyalists = {
			value = 0.3
			culture = cu:french
		}

		add_loyalists = {
			value = 0.2
			culture = cu:occitan
		}

		add_loyalists = {
			value = 0.3
			culture = cu:british
		}
	}
}

# French Success event
dvg_dua.4 = {
	type = country_event
	placement = root
	title = dvg_dua.4.t
	desc = dvg_dua.4.d
	flavor = dvg_dua.4.f

	icon = "gfx/interface/icons/event_icons/event_scales.dds"

	duration = 3

	event_image = {
		video = "gfx/event_pictures/europenorthamerica_london_center.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/europenorthamerica/london_center"

	trigger = {
	}

	immediate = {
		set_global_variable = french_accepted
	}

	option = {
		name = dvg_dua.4.a
		default_option = yes

		add_primary_culture = cu:french

		add_loyalists = {
			value = 0.35
			culture = cu:french
		}
	}
}

# English Success event
dvg_dua.6 = {
	type = country_event
	placement = root
	title = dvg_dua.6.t
	desc = dvg_dua.6.d
	flavor = dvg_dua.6.f

	icon = "gfx/interface/icons/event_icons/event_scales.dds"

	duration = 3

	event_image = {
		video = "gfx/event_pictures/europenorthamerica_london_center.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/europenorthamerica/london_center"

	trigger = {
	}

	immediate = {
		set_global_variable = english_accepted
	}

	option = {
		name = dvg_dua.6.a
		default_option = yes

		add_primary_culture = cu:british

		add_loyalists = {
			value = 0.35
			culture = cu:british
		}
	}
}

dvg_dua.101 = {
	type = country_event
	placement = ROOT

	event_image = {
		video = "europenorthamerica_capitalists_meeting"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/europenorthamerica/capitalists_meeting"

	icon = "gfx/interface/icons/event_icons/event_default.dds"

	title = dvg_dua.101.t
	desc = dvg_dua.101.d
	flavor = dvg_dua.101.f

	duration = 3

	immediate = {
		set_global_variable = dual_integration
		cu:anglois = {
			save_scope_as = anglois_culture
		}
		cu:french = {
			save_scope_as = french_culture
		}
		cu:british = {
			save_scope_as = english_culture
		}
	}

	option = {
		name = dvg_dua.101.a
		default_option = yes

		# custom_tooltip = {
		# 	text = dvg_raise_occ_revolt_7_tt
		# 	change_variable = {
		# 		name = occ_revolt
		# 		add = 7
		# 	}
		# }
		
		# custom_tooltip = {
		# 	text = dvg_raise_eng_revolt_7_tt
		# 	change_variable = {
		# 		name = eng_revolt
		# 		add = 7
		# 	}
		# }

		add_radicals = {
			value = 0.20
			culture = cu:french
		}
	
		add_radicals = {
			value = 0.20
			culture = cu:occitan
		}
	
		add_radicals = {
			value = 0.20
			culture = cu:british
		}
	}
}

dvg_dua.110 = { # Patron
	type = country_event
	placement = ROOT

    event_image = {
		video = "gfx/event_pictures/europenorthamerica_art_gallery.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/unspecific/art_gallery"

	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"

	title = dvg_dua.110.t
	desc = dvg_dua.110.d
	flavor = dvg_dua.110.f

	duration = 3

	trigger = {
		NOT = { has_global_variable = dua_patron_var }
		has_revolution = no
		NOT = { exists = c:ENG }
		NOT = { exists = c:FRA }
	}

	immediate = {
		set_global_variable = dua_patron_var
	}

	option = {
		name = dvg_dua.110.a
		
		# custom_tooltip = {
		# 	text = dvg_decrease_occ_revolt_1_tt
		# 	change_variable = {
		# 		name = occ_revolt
		# 		subtract = 1
		# 	}
		# }

		# custom_tooltip = {
		# 	text = dvg_raise_eng_revolt_1_tt
		# 	change_variable = {
		# 		name = eng_revolt
		# 		add = 1
		# 	}
		# }

		add_radicals = {
			value = medium_radicals
			culture = cu:british
		}

		add_radicals = {
			value = medium_radicals
			culture = cu:welsh
		}

		custom_tooltip = {
			text = dvg_french_progress_increase_tick_05_tt
			change_variable = { name = french_progress_from_effects add = 0.5 }
		}

		# ig:ig_intelligentsia = {
		# 	add_modifier = {
		# 		name = dvg_displeased_ig
		# 		days = normal_modifier_time
		# 	}
		# }

		# ig:ig_rural_folk = {
		# 	add_modifier = {
		# 		name = dvg_displeased_ig
		# 		days = normal_modifier_time
		# 	}
		# }

		ai_chance = {
			base = 1

			modifier = {
				trigger = {
					has_variable = french_path
				}
				add = 200
			}	
		}
	}

	option = {
		name = dvg_dua.110.b
		
		# custom_tooltip = {
		# 	text = dvg_raise_occ_revolt_1_tt
		# 	change_variable = {
		# 		name = occ_revolt
		# 		add = 1
		# 	}
		# }

		# custom_tooltip = {
		# 	text = dvg_decrease_eng_revolt_1_tt
		# 	change_variable = {
		# 		name = eng_revolt
		# 		subtract = 1
		# 	}
		# }

		add_radicals = {
			value = medium_radicals
			culture = cu:french
		}
		add_radicals = {
			value = medium_radicals
			culture = cu:occitan
		}

		custom_tooltip = {
			text = dvg_english_progress_increase_tick_05_tt
			change_variable = { name = english_progress_from_effects add = 0.5 }
		}

		# ig:ig_intelligentsia = {
		# 	add_modifier = {
		# 		name = dvg_displeased_ig
		# 		days = normal_modifier_time
		# 	}
		# }

		# ig:ig_rural_folk = {
		# 	add_modifier = {
		# 		name = dvg_displeased_ig
		# 		days = normal_modifier_time
		# 	}
		# }

		ai_chance = {
			base = 1

			
			modifier = {
				trigger = {
					has_variable = english_path
				}
				add = 200
			}
		}
	}

	option = {
		name = dvg_dua.110.c
		default_option = yes
		
		# custom_tooltip = {
		# 	text = dvg_raise_occ_revolt_1_tt
		# 	change_variable = {
		# 		name = occ_revolt
		# 		add = 1
		# 	}
		# }

		# custom_tooltip = {
		# 	text = dvg_raise_eng_revolt_1_tt
		# 	change_variable = {
		# 		name = eng_revolt
		# 		add = 1
		# 	}
		# }

		add_radicals = {
			value = medium_radicals
			culture = cu:french
		}
		add_radicals = {
			value = medium_radicals
			culture = cu:occitan
		}
		add_radicals = {
			value = medium_radicals
			culture = cu:british
		}
		add_radicals = {
			value = medium_radicals
			culture = cu:irish
		}

		# ig:ig_intelligentsia = {
		# 	add_modifier = {
		# 		name = dvg_displeased_ig
		# 		days = normal_modifier_time
		# 	}
		# }

		# ig:ig_rural_folk = {
		# 	add_modifier = {
		# 		name = dvg_displeased_ig
		# 		days = normal_modifier_time
		# 	}
		# }

		custom_tooltip = {
			text = dvg_anglois_progress_increase_tick_05_tt
			change_variable = { name = anglois_progress_from_effects add = 0.5 }
		}

		ai_chance = {
			base = 1

			modifier = {
				trigger = {
					has_variable = anglois_path
				}
				add = 200
			}
		}
	}
}

dvg_dua.111 = { # Publication of "Histoire de la France depuis ses origines"
	type = country_event
	placement = ROOT

    event_image = {
		video = "gfx/event_pictures/europenorthamerica_art_gallery.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/unspecific/art_gallery"

	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"

	title = dvg_dua.111.t
	desc = dvg_dua.111.d
	flavor = dvg_dua.111.f

	duration = 3

	trigger = {
		NOT = { has_global_variable = guizot_book_var }
		has_revolution = no
		NOT = { exists = c:ENG }
		NOT = { exists = c:FRA }
	}

	immediate = {
		set_global_variable = guizot_book_var
	}

	option = {
		name = dvg_dua.111.a
		default_option = yes
		
		# custom_tooltip = {
		# 	text = dvg_decrease_occ_revolt_1_tt
		# 	change_variable = {
		# 		name = occ_revolt
		# 		subtract = 1
		# 	}
		# }

		# custom_tooltip = {
		# 	text = dvg_raise_eng_revolt_1_tt
		# 	change_variable = {
		# 		name = eng_revolt
		# 		add = 1
		# 	}
		# }

		add_radicals = {
			value = large_radicals
			culture = cu:british
		}

		add_modifier = {
			name = dvg_guizot_book
			days = long_modifier_time
		}
	}

	option = {
		name = dvg_dua.111.b
		default_option = yes
		
		# custom_tooltip = {
		# 	text = dvg_raise_occ_revolt_1_tt
		# 	change_variable = {
		# 		name = occ_revolt
		# 		add = 1
		# 	}
		# }

		# custom_tooltip = {
		# 	text = dvg_decrease_eng_revolt_1_tt
		# 	change_variable = {
		# 		name = eng_revolt
		# 		subtract = 1
		# 	}
		# }

		custom_tooltip = {
			text = dvg_anglois_progress_increase_15_tt
			change_variable = {
				name = anglois_progress
				add = 15
			}
		}

		add_radicals = {
			value = large_radicals
			culture = cu:french
		}
		add_radicals = {
			value = large_radicals
			culture = cu:occitan
		}
	}
}

dvg_dua.112 = { #Publication of "Saxon Poetry"
	type = country_event
	placement = ROOT

    event_image = {
		video = "gfx/event_pictures/europenorthamerica_art_gallery.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/unspecific/art_gallery"

	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"

	title = dvg_dua.112.t
	desc = dvg_dua.112.d
	flavor = dvg_dua.112.f

	duration = 3

	trigger = {
		has_global_variable = guizot_book_var
		NOT = { has_global_variable = saxon_poetry_var }
		has_revolution = no
		NOT = { exists = c:ENG }
		NOT = { exists = c:FRA }
	}

	immediate = {
		set_global_variable = saxon_poetry_var
	}

	option = {
		name = dvg_dua.112.a
		default_option = yes
		
		# custom_tooltip = {
		# 	text = dvg_raise_occ_revolt_1_tt
		# 	change_variable = {
		# 		name = occ_revolt
		# 		add = 1
		# 	}
		# }

		# custom_tooltip = {
		# 	text = dvg_decrease_eng_revolt_1_tt
		# 	change_variable = {
		# 		name = eng_revolt
		# 		subtract = 1
		# 	}
		# }

		add_radicals = {
			value = large_radicals
			culture = cu:french
		}
		add_radicals = {
			value = medium_radicals
			culture = cu:occitan
		}
	}

	option = {
		name = dvg_dua.112.b
		default_option = yes
		
		# custom_tooltip = {
		# 	text = dvg_decrease_occ_revolt_1_tt
		# 	change_variable = {
		# 		name = occ_revolt
		# 		subtract = 1
		# 	}
		# }

		# custom_tooltip = {
		# 	text = dvg_raise_eng_revolt_1_tt
		# 	change_variable = {
		# 		name = eng_revolt
		# 		add = 1
		# 	}
		# }

		add_radicals = {
			value = large_radicals
			culture = cu:british
		}
	}
}

dvg_dua.113 = { #The Great Travel of the Dauphin
	type = country_event
	placement = ROOT

	title = dvg_dua.113.t
	desc = dvg_dua.113.d
	flavor = dvg_dua.113.f

	gui_window = event_window_1char_tabloid

	left_icon = scope:travelling_heir

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"

	duration = 3
	
	trigger = {
		year >= 1840
		NOT = { exists = c:ENG }
		NOT = { exists = c:FRA }
		any_scope_character = {
			is_heir = yes
			age >= 18
		}
		is_at_war = no
		has_revolution = no
		NOT = { has_global_variable = travel_dauphin_var }
	}

	immediate = {
		set_global_variable = travel_dauphin_var
		heir = {
			save_scope_as = travelling_heir
		}
	}

	option = {
		name = dvg_dua.113.a
		default_option = yes
		
		# custom_tooltip = {
		# 	text = dvg_raise_occ_revolt_1_tt
		# 	change_variable = {
		# 		name = occ_revolt
		# 		add = 1
		# 	}
		# }

		# custom_tooltip = {
		# 	text = dvg_raise_eng_revolt_1_tt
		# 	change_variable = {
		# 		name = eng_revolt
		# 		add = 1
		# 	}
		# }
		
		add_radicals = {
			value = large_radicals
			culture = cu:french
		}
		add_radicals = {
			value = large_radicals
			culture = cu:occitan
		}

		add_modifier = {
	        name = ig_diplomatic_tour
	        days = normal_modifier_time
		}
		
		custom_tooltip = {
			text = dvg_anglois_progress_increase_10_tt
			change_variable = {
				name = anglois_progress
				add = 10
			}
		}
	}
}

dvg_dua.114 = { #The 'Immortals'
	type = country_event
	placement = ROOT

	event_image = {
		video = "europenorthamerica_capitalists_meeting"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/europenorthamerica/capitalists_meeting"

	icon = "gfx/interface/icons/event_icons/event_default.dds"

	title = dvg_dua.114.t
	desc = dvg_dua.114.d
	flavor = dvg_dua.114.f

	duration = 3

	trigger = {
		year >= 1843
		NOT = { has_global_variable = dua_immortals_var }
		has_revolution = no
		NOT = { exists = c:ENG }
		NOT = { exists = c:FRA }
	}

	immediate = {
		set_global_variable = dua_immortals_var
	}

	option = {
		name = dvg_dua.114.a
		
		#custom_tooltip = {
		# 	text = dvg_raise_occ_revolt_1_tt
		# 	change_variable = {
		# 		name = occ_revolt
		# 		add = 1
		# 	}
		# }

		# custom_tooltip = {
		# 	text = dvg_decrease_eng_revolt_1_tt
		# 	change_variable = {
		# 		name = eng_revolt
		# 		subtract = 1
		# 	}
		# }

		add_radicals = {
			value = medium_radicals
			culture = cu:french
		}
		add_radicals = {
			value = medium_radicals
			culture = cu:occitan
		}

		ai_chance = {
			base = 20
		}
	}

	option = {
		name = dvg_dua.114.b
		
		# custom_tooltip = {
		# 	text = dvg_decrease_occ_revolt_1_tt
		# 	change_variable = {
		# 		name = occ_revolt
		# 		subtract = 1
		# 	}
		# }

		# custom_tooltip = {
		# 	text = dvg_raise_eng_revolt_1_tt
		# 	change_variable = {
		# 		name = eng_revolt
		# 		add = 1
		# 	}
		# }

		add_radicals = {
			value = medium_radicals
			culture = cu:british
		}

		ai_chance = {
			base = 20
		}
	}

	option = {
		name = dvg_dua.114.c
		default_option = yes
		
		# custom_tooltip = {
		# 	text = dvg_raise_occ_revolt_1_tt
		# 	change_variable = {
		# 		name = occ_revolt
		# 		add = 1
		# 	}
		# }

		# custom_tooltip = {
		# 	text = dvg_raise_eng_revolt_1_tt
		# 	change_variable = {
		# 		name = eng_revolt
		# 		add = 1
		# 	}
		# }

		add_radicals = {
			value = medium_radicals
			culture = cu:french
		}
		add_radicals = {
			value = medium_radicals
			culture = cu:occitan
		}
		add_radicals = {
			value = medium_radicals
			culture = cu:british
		}

		custom_tooltip = {
			text = dvg_anglois_progress_increase_10_tt
			change_variable = {
				name = anglois_progress
				add = 10
			}
		}

		ig:ig_intelligentsia = {
			add_modifier = {
				name = dvg_displeased_ig
				days = normal_modifier_time
			}
		}

		ai_chance = {
			base = 60
		}
	}
}

dvg_dua.115 = { #Celebration of the German Revolution
	type = country_event
	placement = ROOT

	icon = "gfx/interface/icons/event_icons/event_scales.dds"

	duration = 3

	event_image = {
		video = "gfx/event_pictures/europenorthamerica_london_center.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/europenorthamerica/london_center"

	title = dvg_dua.115.t
	desc = dvg_dua.115.d
	flavor = dvg_dua.115.f

	duration = 3

	trigger = {
		year >= 1845
		NOT = { has_global_variable = dua_celebration_var }
		has_revolution = no
		NOT = { exists = c:ENG }
		NOT = { exists = c:FRA }
	}

	immediate = {
		set_global_variable = dua_celebration_var
	}

	option = {
		name = dvg_dua.115.a
		default_option = yes

		change_relations = { 
			country = c:BOH
			value = -100 
		}  

		add_loyalists = {
			value = 0.05
			culture = cu:french
		}
		add_loyalists = {
			value = 0.05
			culture = cu:occitan
		}
		add_loyalists = {
			value = 0.05
			culture = cu:british
		}

		custom_tooltip = {
			text = dvg_anglois_progress_decrease_10_tt
			change_variable = {
				name = anglois_progress
				subtract = 10
			}
		}

		ig:ig_landowners = {
			add_modifier = {
				name = dvg_displeased_ig
				days = normal_modifier_time
			}
		}

		ai_chance = {
			base = 50
		}
	}

	option = {
		name = dvg_dua.115.b
		
		change_relations = { 
			country = c:BOH
			value = 50 
		}  

		add_radicals = {
			value = medium_radicals
			culture = cu:french
		}
		add_radicals = {
			value = medium_radicals
			culture = cu:occitan
		}
		add_radicals = {
			value = medium_radicals
			culture = cu:british
		}

		custom_tooltip = {
			text = dvg_anglois_progress_increase_10_tt
			change_variable = {
				name = anglois_progress
				add = 10
			}
		}

		ig:ig_intelligentsia = {
			add_modifier = {
				name = dvg_displeased_ig
				days = normal_modifier_time
			}
		}

		ai_chance = {
			base = 50
		}
	}
}

dvg_dua.116 = { #Springtime
	type = country_event
	event_image = {
		video = "europenorthamerica_springtime_of_nations"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_protest.dds"

	title = dvg_dua.116.t
	desc = dvg_dua.116.d
	flavor = dvg_dua.116.f

	duration = 3

	trigger = {
		exists = c:DUA
		this = c:DUA
		has_global_variable = dual_integration
		OR = {
			has_journal_entry = je_springtime_of_the_peoples
			AND = {
				year >= 1849
				any_interest_group = {
					OR = {
						is_powerful = yes
						is_insurrectionary = yes
					}
					leader = { has_ideology = ideology:ideology_radical }
				}
				any_interest_group = {
					is_marginal = no
					ig_approval <= -10
					leader = { has_ideology = ideology:ideology_radical }
				}
			}
		}
		
		NOT = { has_variable = dua_springtime_var }
		NOR = {
			has_global_variable = occ_revolted
			has_global_variable = eng_revolted
		}
	}

	immediate = {
		set_variable = dua_springtime_var

		if = {
			limit = {
				NOT = { has_journal_entry = je_springtime_of_the_peoples }
			}

			set_global_variable = {
				name = peoples_springtime_happening
			}
			set_global_variable = {
				name = peoples_springtime_recent
				days = normal_modifier_time
			}

			add_journal_entry = {
				type = je_springtime_of_the_peoples
			}
		}

		if = {
			limit = {
				NOT = { has_technology_researched = egalitarianism }
			}
			add_technology_researched = egalitarianism
		}
	}

	option = {
		name = dvg_dua.116.a
		default_option = yes

		# custom_tooltip = {
		# 	text = dvg_raise_occ_revolt_1_tt
		# 	change_variable = {
		# 		name = occ_revolt
		# 		add = 1
		# 	}
		# }

		# custom_tooltip = {
		# 	text = dvg_raise_eng_revolt_1_tt
		# 	change_variable = {
		# 		name = eng_revolt
		# 		add = 1
		# 	}
		# }

		add_radicals = {
			value = large_radicals
			culture = cu:french
		}
		add_radicals = {
			value = large_radicals
			culture = cu:occitan
		}
		add_radicals = {
			value = large_radicals
			culture = cu:british
		}
		add_radicals = {
			value = large_radicals
			culture = cu:welsh
		}
		add_radicals = {
			value = large_radicals
			culture = cu:irish
		}
	}
}

dvg_dua.117 = { #Springtime ended
	type = country_event
	event_image = {
		video = "europenorthamerica_springtime_of_nations"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_protest.dds"

	title = dvg_dua.117.t
	desc = dvg_dua.117.d
	flavor = dvg_dua.117.f

	duration = 3

	trigger = {
		exists = c:DUA
		this = c:DUA
		year >= 1850
		has_global_variable = dual_integration
		NOT = { has_journal_entry = je_springtime_of_the_peoples }
		has_variable = dua_springtime_var 
		NOT = { has_global_variable = dua_springtime_end_var }
		NOR = {
			has_global_variable = occ_revolted
			has_global_variable = eng_revolted
		}
	}

	immediate = {
		set_global_variable = dua_springtime_end_var
	}

	option = {
		name = dvg_dua.117.a
		default_option = yes

		custom_tooltip = {
			text = dvg_anglois_progress_increase_tick_05_tt
			change_variable = { name = anglois_progress_from_effects add = 0.5 }
		}
	}
}

dvg_dua.118 = { #Springtime sons
	type = country_event
	event_image = {
		video = "europenorthamerica_springtime_of_nations"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_protest.dds"

	title = dvg_dua.118.t
	desc = dvg_dua.118.d
	flavor = dvg_dua.118.f

	duration = 3

	trigger = {
		has_variable = dua_springtime_var
		NOT = { has_global_variable = dua_springtime_sons_var }
		has_revolution = no
		NOR = {
			has_global_variable = occ_revolted
			has_global_variable = eng_revolted
		}
	}

	immediate = {
		set_global_variable = dua_springtime_sons_var
	}

	option = {
		name = dvg_dua.118.a
		default_option = yes

		# custom_tooltip = {
		# 	text = dvg_raise_occ_revolt_1_tt
		# 	change_variable = {
		# 		name = occ_revolt
		# 		add = 1
		# 	}
		# }

		# custom_tooltip = {
		# 	text = dvg_raise_eng_revolt_1_tt
		# 	change_variable = {
		# 		name = eng_revolt
		# 		add = 1
		# 	}
		# }

		show_as_tooltip = {
			add_modifier = {
				name = dvg_sons_of_louis
				months = 120
			}
			add_modifier = {
				name = dvg_sons_of_harold
				months = 120
			}
		}

		custom_tooltip = {
			text = dvg_sons_of_louis_tt
			every_scope_state = {
				limit = {
					state_region = {
						OR = {
							is_homeland = cu:french
							is_homeland = cu:occitan
						}
					}
				}
				add_modifier = {
					name = dvg_sons_of_louis
					months = 120
				}
			}
		}

		custom_tooltip = {
			text = dvg_sons_of_harold_tt
			every_scope_state = {
				limit = {
					state_region = {
						OR = {
							is_homeland = cu:british
						}
					}
				}
				add_modifier = {
					name = dvg_sons_of_harold
					months = 120
				}
			}
		}

		ai_chance = {
			base = 50
		}
	}

	option = {
		name = dvg_dua.118.b
		
		add_radicals = {
			value = large_radicals
			culture = cu:french
		}
		add_radicals = {
			value = large_radicals
			culture = cu:occitan
		}
		add_radicals = {
			value = large_radicals
			culture = cu:british
		}

		if = {
			limit = {
				NOT = { has_law = law_type:law_outlawed_dissent }
			}
			activate_law = law_type:law_outlawed_dissent
		}

		custom_tooltip = {
			text = dvg_anglois_progress_increase_10_tt
			change_variable = {
				name = anglois_progress
				add = 10
			}
		}

		ai_chance = {
			base = 50
		}
	}
}

dvg_dua.119 = { #Valois subversion
	type = country_event
	event_image = {
		video = "europenorthamerica_springtime_of_nations"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_protest.dds"

	title = dvg_dua.119.t
	desc = dvg_dua.119.d
	flavor = dvg_dua.119.f

	duration = 3

	trigger = {
		NOT = { has_global_variable = valois_subversion }
		NOT = {
			has_global_variable = occ_revolted
		}
		any_scope_state = {
			state_region = s:STATE_AUVERGNE
		}
		exists = c:PRO
		has_revolution = no
	}

	immediate = {
		set_global_variable = valois_subversion
	}

	option = {
		name = dvg_dua.119.a
		default_option = yes

		# custom_tooltip = {
		# 	text = dvg_raise_occ_revolt_1_tt
		# 	change_variable = {
		# 		name = occ_revolt
		# 		add = 1
		# 	}
		# }

		add_radicals = {
			value = large_radicals
			culture = cu:occitan
		}
		add_journal_entry = {
			type = je_destroy_provence
		}
		s:STATE_PROVENCE = {
			add_claim = c:DUA
		}
	}
}

dvg_dua.120 = { #Radical
	type = country_event
	event_image = {
		video = "gfx/event_pictures/europenorthamerica_political_extremism.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/europenorthamerica/political_extremism"

	icon = "gfx/interface/icons/event_icons/event_protest.dds"

	title = dvg_dua.120.t
	desc = dvg_dua.120.d
	flavor = dvg_dua.120.f

	trigger = {
		year >= 1848
		NOT = { has_global_variable = dua_radical_ig }
		has_revolution = no
	}

	duration = 3

	immediate = {
		set_global_variable = dua_radical_ig
		random_interest_group = {
			limit = {
				is_marginal = no
				OR = {
					is_interest_group_type = ig_rural_folk
					is_interest_group_type = ig_intelligentsia
					is_interest_group_type = ig_trade_unions
					is_interest_group_type = ig_petty_bourgeoisie
				}
				leader = {
					NOT = { has_ideology = ideology:ideology_radical }
				}
			}
			save_scope_as = radical_ig
		}
	}

	option = {
		name = dvg_dua.120.a
		scope:radical_ig = {
			leader = { set_ideology = ideology:ideology_radical }
			add_modifier = {
				name = dvg_extra_dissident_radical_faction
				days = short_modifier_time
			}
		}
	}
}

dvg_dua.121 = { #Scottish subversion
	type = country_event
	event_image = {
		video = "europenorthamerica_springtime_of_nations"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_protest.dds"

	title = dvg_dua.121.t
	desc = dvg_dua.121.d
	flavor = dvg_dua.121.f

	duration = 3

	trigger = {
		year >= 1850
		NOT = { has_global_variable = scottish_subversion }
		NOT = {
			has_global_variable = eng_revolted
		}
		exists = c:SCO
		c:SCO = {
			NOT = { is_subject_of = root }
		}
		any_state = {
			owner = c:SCO
			OR = {
				region = sr:region_north_sea_coast
				region = sr:region_england
			}
		}
		has_revolution = no
	}

	immediate = {
		set_global_variable = scottish_subversion
	}

	option = {
		name = dvg_dua.121.a
		default_option = yes

		# custom_tooltip = {
		# 	text = dvg_raise_eng_revolt_1_tt
		# 	change_variable = {
		# 		name = eng_revolt
		# 		add = 1
		# 	}
		# }

		add_radicals = {
			value = large_radicals
			culture = cu:british
		}
	}
}

dvg_dua.126 = { #Anglois failure 1855
	type = country_event
	placement = ROOT

	icon = "gfx/interface/icons/event_icons/event_scales.dds"

	duration = 3

	event_image = {
		video = "gfx/event_pictures/europenorthamerica_london_center.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/europenorthamerica/london_center"

	title = dvg_dua.126.t
	desc = dvg_dua.126.d
	flavor = dvg_dua.126.f

	duration = 3

	trigger = {
		year >= 1855
		NOT = { year >= 1860 }
		NOT = { has_global_variable = dua_fail_1855 }
		is_at_war = no
		has_revolution = no
		OR = {
			exists = c:OCC
			exists = c:FRA
			exists = c:ENG
			exists = c:IRE
		}
	}

	immediate = {
		set_global_variable = dua_fail_1855
	}

	option = {
		name = dvg_dua.126.a
		default_option = yes

		# custom_tooltip = {
		# 	text = dvg_raise_occ_revolt_1_tt
		# 	change_variable = {
		# 		name = occ_revolt
		# 		add = 1
		# 	}
		# }

		# custom_tooltip = {
		# 	text = dvg_raise_eng_revolt_1_tt
		# 	change_variable = {
		# 		name = eng_revolt
		# 		add = 1
		# 	}
		# }

		add_radicals = {
			value = large_radicals
			culture = cu:french
		}
		add_radicals = {
			value = large_radicals
			culture = cu:occitan
		}
		add_radicals = {
			value = large_radicals
			culture = cu:british
		}
	}
}

dvg_dua.127 = { #Anglois failure 1860
	type = country_event
	placement = ROOT

	icon = "gfx/interface/icons/event_icons/event_scales.dds"

	duration = 3

	event_image = {
		video = "gfx/event_pictures/europenorthamerica_london_center.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/europenorthamerica/london_center"

	title = dvg_dua.127.t
	desc = dvg_dua.127.d
	flavor = dvg_dua.127.f

	duration = 3

	trigger = {
		year >= 1860
		NOT = { year >= 1865 }
		NOT = { has_global_variable = dua_fail_1860 }
		is_at_war = no
		has_revolution = no
		OR = {
			exists = c:OCC
			exists = c:FRA
			exists = c:ENG
			exists = c:IRE
		}
	}

	immediate = {
		set_global_variable = dua_fail_1860
	}

	option = {
		name = dvg_dua.127.a
		default_option = yes

		# custom_tooltip = {
		# 	text = dvg_raise_occ_revolt_2_tt
		# 	change_variable = {
		# 		name = occ_revolt
		# 		add = 2
		# 	}
		# }

		# custom_tooltip = {
		# 	text = dvg_raise_eng_revolt_2_tt
		# 	change_variable = {
		# 		name = eng_revolt
		# 		add = 2
		# 	}
		# }

		add_radicals = {
			value = large_radicals
			culture = cu:french
		}
		add_radicals = {
			value = large_radicals
			culture = cu:occitan
		}
		add_radicals = {
			value = large_radicals
			culture = cu:british
		}
	}
}

dvg_dua.128 = { #Anglois failure 1865
	type = country_event
	placement = ROOT

	icon = "gfx/interface/icons/event_icons/event_scales.dds"

	duration = 3

	event_image = {
		video = "gfx/event_pictures/europenorthamerica_london_center.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/europenorthamerica/london_center"

	title = dvg_dua.128.t
	desc = dvg_dua.128.d
	flavor = dvg_dua.128.f

	duration = 3

	trigger = {
		year >= 1865
		NOT = { has_global_variable = dua_fail_1865 }
		is_at_war = no
		has_revolution = no
		OR = {
			exists = c:OCC
			exists = c:FRA
			exists = c:ENG
			exists = c:IRE
		}
	}

	immediate = {
		set_global_variable = dua_fail_1865
	}

	option = {
		name = dvg_dua.128.a
		default_option = yes

		# custom_tooltip = {
		# 	text = dvg_raise_occ_revolt_3_tt
		# 	change_variable = {
		# 		name = occ_revolt
		# 		add = 3
		# 	}
		# }

		# custom_tooltip = {
		# 	text = dvg_raise_eng_revolt_3_tt
		# 	change_variable = {
		# 		name = eng_revolt
		# 		add = 3
		# 	}
		# }

		add_radicals = {
			value = large_radicals
			culture = cu:french
		}
		add_radicals = {
			value = large_radicals
			culture = cu:occitan
		}
		add_radicals = {
			value = large_radicals
			culture = cu:british
		}
	}
}

dvg_dua.129 = {
	type = country_event
	placement = ROOT
	title = dvg_dua.129.t
	
	desc = {
		first_valid = {
			triggered_desc = {
				desc = dvg_dua.129.d
				trigger = {
					NOT = {
						has_journal_entry = je_springtime_of_the_peoples
					}
				}
			}
			triggered_desc = {
				desc = dvg_dua.129.d1
				trigger = {
					has_journal_entry = je_springtime_of_the_peoples
				}
			}
		}
	}

	flavor = dvg_dua.129.f

	duration = 3

	event_image = {
		video = "unspecific_politicians_arguing"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_portrait.dds"

	cooldown = { days = short_modifier_time }

	trigger = {
		year >= 1838
	}

	immediate = {
		ruler = {
			save_scope_as = monarch_scope
		}
	}

	option = {
		name = dvg_dua.129.a
		default_option = yes
		trigger = {
			NOT = {
				has_journal_entry = je_springtime_of_the_peoples
			}
		}
		if = {
			limit = {
				has_variable = anglois_path
			}
			custom_tooltip = {
				text = dvg_anglois_progress_decrease_10_tt
				change_variable = { name = anglois_progress subtract = 10 }
			}
		}
		else_if = {
			limit = {
				has_variable = french_path
			}
			custom_tooltip = {
				text = dvg_french_progress_decrease_10_tt
				change_variable = { name = french_progress subtract = 10 }
			}
		}
		else_if = {
			limit = {
				has_variable = anglois_path
			}
			custom_tooltip = {
				text = dvg_english_progress_decrease_10_tt
				change_variable = { name = english_progress subtract = 10 }
			}
		}
	}

	option = {
		name = dvg_dua.129.b
		trigger = {
			NOT = {
				has_journal_entry = je_springtime_of_the_peoples
			}
		}
		if = {
			limit = {
				has_variable = anglois_path
			}
			add_radicals = {
				value = medium_radicals
				culture = cu:british
			}
			add_radicals = {
				value = medium_radicals
				culture = cu:french
			}
			add_radicals = {
				value = medium_radicals
				culture = cu:occitan
			}
			custom_tooltip = {
				text = dvg_anglois_progress_decrease_5_tt
				change_variable = { name = anglois_progress subtract = 5 }
			}
		}
		else_if = {
			limit = {
				has_variable = french_path
			}
			add_radicals = {
				value = medium_radicals
				culture = cu:british
			}
			custom_tooltip = {
				text = dvg_french_progress_decrease_5_tt
				change_variable = { name = french_progress subtract = 5 }
			}
		}
		else_if = {
			limit = {
				has_variable = english_path
			}
			add_radicals = {
				value = small_radicals
				culture = cu:french
			}
			add_radicals = {
				value = small_radicals
				culture = cu:occitan
			}
			custom_tooltip = {
				text = dvg_english_progress_decrease_5_tt
				change_variable = { name = english_progress subtract = 5 }
			}
		}
	}
	
	option = {
		name = dvg_dua.129.a1
		default_option = yes
		trigger = {
			has_journal_entry = je_springtime_of_the_peoples
		}
		if = {
			limit = {
				has_variable = anglois_path
			}
			add_radicals = {
				value = medium_radicals
				culture = cu:british
			}
			add_radicals = {
				value = medium_radicals
				culture = cu:french
			}
			add_radicals = {
				value = medium_radicals
				culture = cu:occitan
			}
			custom_tooltip = {
				text = dvg_anglois_progress_decrease_15_tt
				change_variable = { name = anglois_progress subtract = 15 }
			}
		}
		else_if = {
			limit = {
				has_variable = french_path
			}
			add_radicals = {
				value = medium_radicals
				culture = cu:british
			}
			custom_tooltip = {
				text = dvg_french_progress_decrease_15_tt
				change_variable = { name = french_progress subtract = 15 }
			}
		}
		else_if = {
			limit = {
				has_variable = english_path
			}
			add_radicals = {
				value = small_radicals
				culture = cu:french
			}
			add_radicals = {
				value = small_radicals
				culture = cu:occitan
			}
			custom_tooltip = {
				text = dvg_english_progress_decrease_15_tt
				change_variable = { name = english_progress subtract = 15 }
			}
		}
	}
	
	option = {
		name = dvg_dua.129.b1
		trigger = {
			has_journal_entry = je_springtime_of_the_peoples
		}
		if = {
			limit = {
				has_variable = anglois_path
			}
			add_radicals = {
				value = large_radicals
				culture = cu:british
			}
			add_radicals = {
				value = large_radicals
				culture = cu:french
			}
			add_radicals = {
				value = large_radicals
				culture = cu:occitan
			}
			custom_tooltip = {
				text = dvg_anglois_progress_decrease_10_tt
				change_variable = { name = anglois_progress subtract = 10 }
			}
		}
		else_if = {
			limit = {
				has_variable = french_path
			}
			add_radicals = {
				value = large_radicals
				culture = cu:british
			}
			custom_tooltip = {
				text = dvg_french_progress_decrease_10_tt
				change_variable = { name = french_progress subtract = 10 }
			}
		}
		else_if = {
			limit = {
				has_variable = english_path
			}
			add_radicals = {
				value = medium_radicals
				culture = cu:french
			}
			add_radicals = {
				value = medium_radicals
				culture = cu:occitan
			}
			custom_tooltip = {
				text = dvg_english_progress_decrease_10_tt
				change_variable = { name = english_progress subtract = 10 }
			}
		}
	}
}

dvg_dua.211 = { #St Louis Speech
	type = country_event
	placement = ROOT

	event_image = {
		video = "gfx/event_pictures/unspecific_ruler_speaking_to_people.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/unspecific/leader_speaking_to_a_group_of_people"

	icon = "gfx/interface/icons/event_icons/event_portrait.dds"

	title = dvg_dua.211.t
	desc = dvg_dua.211.d
	flavor = dvg_dua.211.f

	duration = 3

	trigger = {
		NOT = { has_global_variable = st_louis_speech }
		has_revolution = no
	}

	immediate = {
		set_global_variable = st_louis_speech
	}

	option = {
		name = dvg_dua.211.a
		default_option = yes
		
		custom_tooltip = {
			text = dvg_french_progress_increase_15_tt
			change_variable = {
				name = french_progress
				add = 15
			}
		}

		add_radicals = {
			value = medium_radicals
			culture = cu:british
		}
	}
}

dvg_dua.212 = { #The great travel
	type = country_event
	placement = ROOT

	event_image = {
		video = "gfx/event_pictures/unspecific_ruler_speaking_to_people.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/unspecific/leader_speaking_to_a_group_of_people"

	icon = "gfx/interface/icons/event_icons/event_portrait.dds"

	title = dvg_dua.212.t
	desc = dvg_dua.212.d
	flavor = dvg_dua.212.f

	duration = 3

	trigger = {
		year >= 1840
		NOT = { has_global_variable = great_travel_FRA }
		has_revolution = no
	}

	immediate = {
		set_global_variable = great_travel_FRA
	}

	option = {
		name = dvg_dua.212.a
		default_option = yes

		custom_tooltip = {
			text = dvg_french_progress_increase_10_tt
			change_variable = {
				name = french_progress
				add = 10
			}
		}

		add_radicals = {
			value = medium_radicals
			culture = cu:british
		}
	}
}

dvg_dua.213 = { #Springtime Sons of Harold
	type = country_event
	event_image = {
		video = "europenorthamerica_springtime_of_nations"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_protest.dds"

	title = dvg_dua.213.t
	desc = dvg_dua.213.d
	flavor = dvg_dua.213.f

	duration = 3

	trigger = {
		has_variable = dua_springtime_var
		NOT = { has_global_variable = dua_springtime_sons_var }
		NOR = {
			has_global_variable = occ_revolted
			has_global_variable = eng_revolted
		}
		has_revolution = no
	}

	immediate = {
		set_global_variable = dua_springtime_sons_var
	}

	option = {
		name = dvg_dua.118.a
		default_option = yes

		custom_tooltip = {
			text = dvg_sons_of_harold_tt
			every_scope_state = {
				limit = {
					state_region = {
						OR = {
							is_homeland = cu:british
						}
					}
				}
				add_modifier = {
					name = dvg_sons_of_harold
					months = 120
				}
			}
		}
	}
}

dvg_dua.214 = { #Sorbonne
	type = country_event
	placement = ROOT

	event_image = {
		video = "europenorthamerica_capitalists_meeting"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/europenorthamerica/capitalists_meeting"

	icon = "gfx/interface/icons/event_icons/event_default.dds"

	title = dvg_dua.214.t
	desc = dvg_dua.214.d
	flavor = dvg_dua.214.f

	duration = 3

	trigger = {
		year >= 1842
		is_at_war = no
		has_revolution = no
		NOT = { has_global_variable = sorbonne }
	}

	immediate = {
		set_global_variable = sorbonne
	}

	option = {
		name = dvg_dua.214.a
		default_option = yes

		add_radicals = {
			value = large_radicals
			culture = cu:british
		}

		custom_tooltip = {
			text = dvg_french_progress_increase_10_tt
			change_variable = {
				name = french_progress
				add = 10
			}
		}

		# custom_tooltip = {
		# 	text = dvg_raise_eng_revolt_tt
		# 	change_variable = {
		# 		name = eng_revolt
		# 		add = 0.5
		# 	}
		# }

		ai_chance = {
			base = 55
		}
	}

	option = {
		name = dvg_dua.214.b
		
		add_radicals = {
			value = medium_radicals
			culture = cu:french
		}

		custom_tooltip = {
			text = dvg_french_progress_decrease_10_tt
			change_variable = {
				name = french_progress
				subtract = 10
			}
		}

		# custom_tooltip = {
		# 	text = dvg_lower_eng_revolt_tt
		# 	change_variable = {
		# 		name = eng_revolt
		# 		subtract = 0.5
		# 	}
		# }

		ai_chance = {
			base = 15
		}
	}
}


dvg_dua.311 = { #The great travel
	type = country_event
	placement = ROOT

	event_image = {
		video = "gfx/event_pictures/unspecific_ruler_speaking_to_people.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/unspecific/leader_speaking_to_a_group_of_people"

	icon = "gfx/interface/icons/event_icons/event_portrait.dds"

	title = dvg_dua.311.t
	desc = dvg_dua.311.d
	flavor = dvg_dua.311.f

	duration = 3

	trigger = {
		year >= 1840
		NOT = { has_global_variable = great_travel_ENG }
		has_revolution = no
	}

	immediate = {
		set_global_variable = great_travel_ENG
	}

	option = {
		name = dvg_dua.311.a
		default_option = yes

		custom_tooltip = {
			text = dvg_english_progress_increase_10_tt
			change_variable = {
				name = english_progress
				add = 10
			}
		}

		add_radicals = {
			value = medium_radicals
			culture = cu:french
		}

		add_radicals = {
			value = medium_radicals
			culture = cu:occitan
		}
	}
}

dvg_dua.312 = { #Springtime Sons of St-Louis
	type = country_event
	event_image = {
		video = "europenorthamerica_springtime_of_nations"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_protest.dds"

	title = dvg_dua.312.t
	desc = dvg_dua.312.d
	flavor = dvg_dua.312.f

	duration = 3

	trigger = {
		has_variable = dua_springtime_var
		NOT = { has_global_variable = dua_springtime_sons_var }
		NOR = {
			has_global_variable = occ_revolted
			has_global_variable = eng_revolted
		}
		has_revolution = no
	}

	immediate = {
		set_global_variable = dua_springtime_sons_var
	}

	option = {
		name = dvg_dua.312.a
		default_option = yes

		custom_tooltip = {
			text = dvg_sons_of_louis_tt
			every_scope_state = {
				limit = {
					state_region = {
						OR = {
							is_homeland = cu:french
							is_homeland = cu:occitan
						}
					}
				}
				add_modifier = {
					name = dvg_sons_of_louis
					months = 120
				}
			}
		}
	}
}

dvg_dua.500 = { #Total Revolution
	type = country_event
	placement = ROOT

	title = dvg_dua.500.t
	desc = dvg_dua.500.d
	flavor = dvg_dua.500.f

	event_image = {
		video = "gfx/event_pictures/europenorthamerica_before_the_battle.bk2"
	}
	
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/europenorthamerica/before_the_battle"

	icon = "gfx/interface/icons/event_icons/event_military.dds"

	duration = 3

	trigger = {
	}
	
	option = {
		name = dvg_dua.500.a
		default_option = yes

		if = {
			limit = {
				NOT = { exists = c:IRE }
				coa_controls_part_of_ireland = yes
			}

			create_country = {
				tag = IRE
				origin = this
				state = s:STATE_LEINSTER.region_state:DUA
				on_created = {
					add_modifier = {
						name = dvg_revolutionary_militias
						days = 720
						is_decaying	= yes
					}
					set_global_variable = dua_total_revolution_secession
					add_loyalists = {
						value = 0.35
						culture = cu:irish
					}
					change_relations = {
						country = c:DUA
						value = -100
					}
				}
			}	

			every_scope_state = {
				limit = {
					owner = c:DUA
					state_region = {
						is_homeland = cu:irish
					}
				}
				set_state_owner = c:IRE
				set_state_type = incorporated
			}

			create_diplomatic_play = {
				target_country = c:IRE
				war = no
				type = dp_rebellion
			}
		}

		if = {
			limit = {
				NOT = { exists = c:ENG }
			}

			create_country = {
				tag = ENG
				origin = this
				state = s:STATE_YORKSHIRE.region_state:DUA
				on_created = {
					add_modifier = {
						name = dvg_revolutionary_militias
						days = 720
						is_decaying	= yes
					}
					set_global_variable = dua_total_revolution_secession

					if = {
						limit = {
							NOT = { has_law = law_type:law_parliamentary_republic }
						}
						activate_law = law_type:law_parliamentary_republic
					}
					add_loyalists = {
						value = 0.35
						culture = cu:british
					}
					change_relations = {
						country = c:DUA
						value = -100
					}
				}
			}
		}

		s:STATE_HOME_COUNTIES = {
			add_claim = c:ENG
		}

		s:STATE_WEST_COUNTRY = {
			add_claim = c:ENG
		}

		if = {
			limit = {
				exists = c:ENG
				NOT = {
					any_diplomatic_play = {
						initiator = c:DUA
						target = c:ENG
						OR = {
							is_diplomatic_play_type = dp_secession
							is_diplomatic_play_type = dp_rebellion
						}
						is_war = no
					}
				}
				c:DUA = {
					any_state = {
						owner = ROOT
						region = sr:region_england
					}
				}
				NOT = { has_truce_with = c:ENG }
			}


			if = {
				limit = { exists = s:STATE_LANCASHIRE.region_state:DUA }
				s:STATE_LANCASHIRE.region_state:DUA = { 
					set_state_owner = c:ENG
					set_state_type = incorporated
				}
			}

			if = {
				limit = { exists = s:STATE_YORKSHIRE.region_state:DUA }
				s:STATE_YORKSHIRE.region_state:DUA = { 
					set_state_owner = c:ENG
					set_state_type = incorporated
				}
			}

			if = {
				limit = { exists = s:STATE_MIDLANDS.region_state:DUA }
				s:STATE_MIDLANDS.region_state:DUA = { 
					set_state_owner = c:ENG
					set_state_type = incorporated
				}
			}

			if = {
				limit = { exists = s:STATE_EAST_ANGLIA.region_state:DUA }
				s:STATE_EAST_ANGLIA.region_state:DUA = { 
					set_state_owner = c:ENG 
					set_state_type = incorporated
				}
			}

			create_diplomatic_play = {
				target_country = c:ENG
				war = no
				type = dp_rebellion

				add_war_goal = {
					holder = c:ENG
					type = return_state
					target_state = s:STATE_HOME_COUNTIES.region_state:DUA
				}

				add_war_goal = {
					holder = c:ENG
					type = return_state
					target_state = s:STATE_WEST_COUNTRY.region_state:DUA
				}

				add_war_goal = {
					holder = c:ENG
					type = conquer_state
					target_state = s:STATE_WALES.region_state:DUA
				}
			}
		}

		if = {
			limit = {
				NOT = { exists = c:FRA }
			}

			create_country = {
				tag = FRA
				origin = this
				state = s:STATE_LIMOUSIN.region_state:DUA
				on_created = {
					add_modifier = {
						name = dvg_revolutionary_militias
						days = 720
						is_decaying	= yes
					}
					set_global_variable = dua_total_revolution_secession
					add_loyalists = {
						value = 0.35
						culture = cu:french
					}
					add_loyalists = {
						value = 0.25
						culture = cu:occitan
					}
					change_relations = {
						country = c:DUA
						value = -100
					}
				}
			}
		}

		s:STATE_ILE_DE_FRANCE = {
			add_claim = c:FRA
		}
		s:STATE_NORMANDY = {
			add_claim = c:FRA
		}

		if = {
			limit = {
				exists = c:FRA
				NOT = {
					any_diplomatic_play = {
						initiator = c:DUA
						target = c:FRA
						OR = {
							is_diplomatic_play_type = dp_secession
							is_diplomatic_play_type = dp_rebellion
						}
						is_war = no
					}
				}
				c:DUA = {
					any_state = {
						owner = ROOT
						OR = {
							region = sr:region_france
							region = sr:region_occitania
						}
					}
				}
				NOT = { has_truce_with = c:FRA }
			}

			every_scope_state = {
				limit = {
					owner = c:DUA
					state_region = {
						is_homeland = cu:occitan
					}
				}
				set_state_owner = c:FRA
				set_state_type = incorporated
			}
			
			if = {
				limit = { exists = s:STATE_LIMOUSIN.region_state:DUA }
				s:STATE_LIMOUSIN.region_state:DUA = { 
					set_state_owner = c:FRA
					set_state_type = incorporated
				}
			}

			if = {
				limit = { exists = s:STATE_CHAMPAGNE.region_state:DUA }
				s:STATE_CHAMPAGNE.region_state:DUA = { 
					set_state_owner = c:FRA 
					set_state_type = incorporated
				}
			}

			if = {
				limit = { exists = s:STATE_ORLEANS.region_state:DUA }
				s:STATE_ORLEANS.region_state:DUA = { 
					set_state_owner = c:FRA 
					set_state_type = incorporated
				}
			}

			if = {
				limit = { exists = s:STATE_POITOU.region_state:DUA }
				s:STATE_POITOU.region_state:DUA = { 
					set_state_owner = c:FRA
					set_state_type = incorporated
				}
			}

			if = {
				limit = { exists = s:STATE_LOIRE.region_state:DUA }
				s:STATE_LOIRE.region_state:DUA = { 
					set_state_owner = c:FRA
					set_state_type = incorporated
				}
			}

			create_diplomatic_play = {
				target_country = c:FRA
				war = no
				type = dp_rebellion

				add_war_goal = {
					holder = c:FRA
					type = return_state
					target_state = s:STATE_ILE_DE_FRANCE.region_state:DUA
				}

				add_war_goal = {
					holder = c:FRA
					type = return_state
					target_state = s:STATE_NORMANDY.region_state:DUA
				}

				add_war_goal = {
					holder = c:FRA
					type = conquer_state
					target_state = s:STATE_BRITTANY.region_state:DUA
				}
			}
		}

		every_subject_or_below = {
			limit = {
				is_subject_of = ROOT
				OR = {
					is_subject_type = subject_type_vassal
					is_subject_type = subject_type_protectorate
					is_subject_type = subject_type_dominion
					is_subject_type = subject_type_puppet
				}
			}

			make_independent = yes
		}

		ai_chance = {
			base = 1
		}
	}
}

dvg_dua.505 = { # France freedom and occitan
	type = country_event
	placement = ROOT

	icon = "gfx/interface/icons/event_icons/event_scales.dds"

	duration = 3

	event_image = {
		video = "gfx/event_pictures/europenorthamerica_london_center.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/europenorthamerica/london_center"

	title = dvg_dua.505.t
	desc = dvg_dua.505.d
	flavor = dvg_dua.505.f

	duration = 3

	trigger = {
		is_at_war = no
		exists = c:FRA
		this = c:FRA
		NOT = { exists = c:OCC }
		has_global_variable = dua_total_revolution_secession
		NOT = {
			has_variable = fra_aftermath_event_fired
			any_diplomatic_play = {
				initiator = c:DUA
				target = c:FRA
			}
		}
	}

	immediate = {
		remove_variable = dua_total_revolution_secession
		set_variable = fra_aftermath_event_fired
	}

	option = {
		name = dvg_dua.505.a
		default_option = yes

		create_country = {
			tag = OCC
			origin = this
			state = s:STATE_AUVERGNE.region_state:FRA
			on_created = {
				add_loyalists = {
					value = 0.1
					culture = cu:occitan
				}
			}
		}

		every_scope_state = {
			limit = {
				owner = c:FRA
				state_region = {
					is_homeland = cu:occitan
				}
			}
			set_state_owner = c:OCC
		}

		ai_chance = {
			base = 75
		}
	}

	option = {
		name = dvg_dua.505.b

		create_country = {
			tag = OCC
			origin = this
			state = s:STATE_AUVERGNE.region_state:FRA
			on_created = {
				add_loyalists = {
					value = 0.1
					culture = cu:occitan
				}
			}
		}

		every_scope_state = {
			limit = {
				owner = c:FRA
				state_region = {
					is_homeland = cu:occitan
				}
			}
			set_state_owner = c:OCC
			set_state_type = incorporated
		}

		create_diplomatic_play = {
			target_country = c:OCC
			war = no
			type = dp_rebellion

			add_war_goal = {
				holder = c:OCC
				type = annex_country
				target_country = c:FRA
			}
		}

		hidden_effect = { #Why? Because the play grants to much infamy (around 150), reduce it a bit
			change_infamy = -75
		}

		ai_chance = {
			base = 25
		}
	}
}

dvg_dua.510 = { #Midi Revolution
	type = country_event
	placement = ROOT

	title = dvg_dua.510.t
	desc = {
		first_valid = {
			triggered_desc = {
				desc = dvg_dua.510.d1
				trigger = {
					has_journal_entry = je_dual_integration
				}
			}
			triggered_desc = {
				desc = dvg_dua.510.d2
				trigger = {
					has_journal_entry = je_english_integration
				}
			}
		}
	}
	flavor = {
		first_valid = {
			triggered_desc = {
				desc = dvg_dua.510.f1
				trigger = {
					has_journal_entry = je_dual_integration
				}
			}
			triggered_desc = {
				desc = dvg_dua.510.f2
				trigger = {
					has_journal_entry = je_english_integration
				}
			}
		}
	}

	event_image = {
		video = "gfx/event_pictures/europenorthamerica_before_the_battle.bk2"
	}
	
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/europenorthamerica/before_the_battle"

	icon = "gfx/interface/icons/event_icons/event_military.dds"

	duration = 3
	
	immediate = {
		if = {
			limit = {
				NOT = { exists = c:OCC }
			}

			create_country = {
				tag = OCC
				origin = this
				state = s:STATE_ARMAGNAC.region_state:DUA
				on_created = {
					add_modifier = {
						name = dvg_revolutionary_militias
						days = 720
						is_decaying	= yes
					}
					add_loyalists = {
						value = 0.25
						culture = cu:occitan
					}
				}
			}

			create_diplomatic_play = {
				target_country = c:OCC
				war = no
				type = dp_rebellion
			}
		}

		every_scope_state = {
			limit = {
				owner = c:DUA
				state_region = {
					is_homeland = cu:occitan
				}
			}
			set_state_owner = c:OCC
		}

		if = {
			limit = {
				has_journal_entry = je_dual_integration
			}
			c:OCC = {
				set_global_variable = dual_integration_secession
			}
		}
		else_if = {
			limit = {
				has_journal_entry = je_english_integration
			}
			c:OCC = {
				set_global_variable = english_integration_secession
			}
		}
	}

	option = {
		name = dvg_dua.510.a
		default_option = yes

		c:OCC = {
			trigger_event = {
				id = dvg_dua.511
				days = 0
				popup = yes
			}
		}
	}
}

dvg_dua.511 = { #Midi Revolution - Occitan choices
	type = country_event
	placement = ROOT

	title = dvg_dua.511.t
	desc = dvg_dua.511.d
	flavor = dvg_dua.511.f

	event_image = {
		video = "southamerica_aristocrats"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/southamerica/aristocrats"

	icon = "gfx/interface/icons/event_icons/event_fire.dds"

	duration = 3

	trigger = {
	}

	immediate = {

	}

	option = {
		name = dvg_dua.511.a
		default_option = yes

		trigger = {
			exists = c:PRO
		}

		play_as = c:PRO

		c:PRO = {
			trigger_event = {
				id = dvg_dua.512
				days = 1
				popup = yes
			}
		}

		ai_chance = {
			base = 75
		}
	}

	option = {
		name = dvg_dua.511.b

		ig:ig_landowners = { 
			remove_ideology = ideology_paternalistic
			add_ideology = ideology_republican_paternalistic
		}

		if = {
			limit = {
				NOT = { has_law = law_type:law_parliamentary_republic }
			}
			activate_law = law_type:law_presidential_republic
		}
		if = {
			limit = {
				NOT = { has_law = law_type:law_right_of_assembly }
			}
			activate_law = law_type:law_right_of_assembly
		}

		ai_chance = {
			base = 25
		}
	}
}

dvg_dua.512 = { #Midi Revolution - PRO inherits OCC
	type = country_event
	placement = ROOT

	title = dvg_dua.512.t
	desc = dvg_dua.512.d
	flavor = dvg_dua.512.f

	event_image = {
		video = "southamerica_aristocrats"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/southamerica/aristocrats"

	icon = "gfx/interface/icons/event_icons/event_fire.dds"

	duration = 3

	trigger = {
	}

	option = {
		name = dvg_dua.512.a
		default_option = yes

		annex = c:OCC

		c:DUA = {
			create_diplomatic_play = {
				target_country = c:PRO
				war = no
				type = dp_annex_war

				add_war_goal = {
					holder = c:PRO
					type = humiliation
					target_country = c:DUA
				}
			}
			hidden_effect = { #Why? Because the play grants to much infamy (around 100-120), reduce it a bit
				change_infamy = -75
			}
		}

		ai_chance = {
			base = 100
		}
	}

	option = {
		name = dvg_dua.512.b

		ai_chance = {
			base = 0
		}
	}
}

dvg_dua.513 = { #Midi Revolution - DUA won
	type = country_event
	placement = ROOT

	title = dvg_dua.513.t
	desc = dvg_dua.513.d
	flavor = dvg_dua.513.f

	event_image = {
		video = "southamerica_aristocrats"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/southamerica/aristocrats"

	icon = "gfx/interface/icons/event_icons/event_fire.dds"

	duration = 3

	trigger = {
		exists = c:DUA
		this = c:DUA
		has_journal_entry = je_dual_integration
		has_global_variable = occ_revolted
		NOT = { has_global_variable = occ_revolt_fail }
		NOT = {
			exists = c:OCC
		}
		owns_entire_state_region = STATE_ARMAGNAC
	}

	immediate = {
		set_global_variable = occ_revolt_fail
	}

	option = {
		name = dvg_dua.513.a
		default_option = yes

		custom_tooltip = {
			text = dvg_anglois_progress_increase_10_tt
			change_variable = {
				name = anglois_progress
				add = 10
			}
		}
	}
}

dvg_dua.514 = { #Midi Revolution - DUA lose
	type = country_event
	placement = ROOT

	title = dvg_dua.514.t
	desc = dvg_dua.514.d
	flavor = dvg_dua.514.f

	event_image = {
		video = "southamerica_aristocrats"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/southamerica/aristocrats"

	icon = "gfx/interface/icons/event_icons/event_fire.dds"

	duration = 3

	trigger = {
		exists = c:DUA
		this = c:DUA
		has_journal_entry = je_dual_integration
		has_global_variable = occ_revolted
		NOT = { has_global_variable = occ_revolt_win }
		OR = {
			AND = {
				exists = c:OCC
				has_truce_with = c:OCC
				NOT = { is_diplomatic_play_enemy_of = c:OCC }
				NOT = { has_war_with = c:OCC}
			}
			AND = {
				exists = c:PRO
				has_truce_with = c:PRO
				NOT = { is_diplomatic_play_enemy_of = c:PRO }
				NOT = { has_war_with = c:PRO}
			}
		}
		NOT = { owns_entire_state_region = STATE_ARMAGNAC }
	}

	immediate = {
		set_global_variable = occ_revolt_win
	}

	option = {
		name = dvg_dua.514.a
		default_option = yes

		custom_tooltip = {
			text = dvg_anglois_progress_decrease_50_tt
			change_variable = {
				name = anglois_progress
				subtract = 50
			}
		}
	}
}

dvg_dua.520 = { #Glorious Revolution
	type = country_event
	placement = ROOT

	title = dvg_dua.520.t
	desc = {
		first_valid = {
			triggered_desc = {
				desc = dvg_dua.520.d1
				trigger = {
					has_journal_entry = je_dual_integration
				}
			}
			triggered_desc = {
				desc = dvg_dua.520.d2
				trigger = {
					has_journal_entry = je_french_integration
				}
			}
		}
	}
	flavor = {
		first_valid = {
			triggered_desc = {
				desc = dvg_dua.520.f1
				trigger = {
					has_journal_entry = je_dual_integration
				}
			}
			triggered_desc = {
				desc = dvg_dua.520.f2
				trigger = {
					has_journal_entry = je_french_integration
				}
			}
		}
	}

	event_image = {
		video = "gfx/event_pictures/europenorthamerica_before_the_battle.bk2"
	}
	
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/europenorthamerica/before_the_battle"

	icon = "gfx/interface/icons/event_icons/event_military.dds"

	duration = 3

	immediate = {
		if = {
			limit = {
				NOT = { exists = c:ENG }
			}

			create_country = {
				tag = ENG
				origin = this
				state = s:STATE_MIDLANDS.region_state:DUA
				on_created = {
					add_modifier = {
						name = dvg_revolutionary_militias
						days = 720
						is_decaying	= yes
					}
					#set_global_variable = dua_eng_secession
					add_loyalists = {
						value = 0.25
						culture = cu:british
					}
				}
			}

			create_diplomatic_play = {
				target_country = c:ENG
				type = dp_rebellion

				add_war_goal = {
					holder = c:ENG
					type = return_state
					target_state = s:STATE_HOME_COUNTIES.region_state:DUA
				}

				add_war_goal = {
					holder = c:ENG
					type = return_state
					target_state = s:STATE_WEST_COUNTRY.region_state:DUA
				}
			}
		}

		if = {
			limit = {
				exists = c:ENG
			}

			if = {
				limit = { exists = s:STATE_LANCASHIRE.region_state:DUA }
				s:STATE_LANCASHIRE.region_state:DUA = { 
					set_state_owner = c:ENG
					set_state_type = incorporated
				}
			}

			if = {
				limit = { exists = s:STATE_YORKSHIRE.region_state:DUA }
				s:STATE_YORKSHIRE.region_state:DUA = { 
					set_state_owner = c:ENG
					set_state_type = incorporated
				}
			}

			if = {
				limit = { exists = s:STATE_MIDLANDS.region_state:DUA }
				s:STATE_MIDLANDS.region_state:DUA = { 
					set_state_owner = c:ENG
					set_state_type = incorporated
				}
			}

			if = {
				limit = { exists = s:STATE_EAST_ANGLIA.region_state:DUA }
				s:STATE_EAST_ANGLIA.region_state:DUA = { 
					set_state_owner = c:ENG 
					set_state_type = incorporated
				}
			}

			s:STATE_HOME_COUNTIES = {
				add_claim = c:ENG
			}

			s:STATE_WEST_COUNTRY = {
				add_claim = c:ENG
			}
			
		}

		if = {
			limit = {
				has_journal_entry = je_dual_integration
			}
			c:ENG = {
				set_global_variable = dual_integration_secession
			}
		}
		else_if = {
			limit = {
				has_journal_entry = je_french_integration
			}
			c:ENG = {
				set_global_variable = french_integration_secession
			}
		}
	}
	
	option = {
		name = dvg_dua.520.a
		default_option = yes

		c:ENG = {
			trigger_event = { id = dvg_dua.521 days = 0 popup = yes }
			#trigger_event = { id = dvg_dua.524 days = 0 popup = yes }
		}
	}
}

dvg_dua.521 = { #Glorious Revolution - English choices
	type = country_event
	placement = ROOT

	title = dvg_dua.521.t
	desc = dvg_dua.521.d
	flavor = dvg_dua.521.f

	event_image = {
		video = "southamerica_aristocrats"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/southamerica/aristocrats"

	icon = "gfx/interface/icons/event_icons/event_fire.dds"

	duration = 3

	option = {
		name = dvg_dua.521.a
		default_option = yes

		if = {
			limit = {
				NOT = { has_law = law_type:law_monarchy }
			}
			activate_law = law_type:law_monarchy
		}
		if = {
			limit = {
				NOT = { has_law = law_type:law_census_voting }
			}
			activate_law = law_type:law_census_voting
		}


		ai_chance = {
			base = 10
			modifier = {
				trigger = { has_global_variable = dual_integration_secession }
				add = 70
			}
			modifier = {
				trigger = { has_global_variable = french_integration_secession }
				add = 10
			}
		}
	}

	option = {
		name = dvg_dua.521.b

		ig:ig_landowners = { 
			remove_ideology = ideology_paternalistic
			add_ideology = ideology_republican_paternalistic
			add_modifier = {
				name = dvg_approval_buff
				days = 730
				is_decaying	= yes
			}
		}

		if = {
			limit = {
				NOT = { has_law = law_type:law_parliamentary_republic }
			}
			activate_law = law_type:law_presidential_republic
		}
		if = {
			limit = {
				NOT = { has_law = law_type:law_universal_suffrage }
			}
			activate_law = law_type:law_universal_suffrage
		}
		if = {
			limit = {
				NOT = { has_law = law_type:law_right_of_assembly }
			}
			activate_law = law_type:law_right_of_assembly
		}

		ai_chance = {
			base = 10
			modifier = {
				trigger = { has_global_variable = dual_integration_secession }
				add = 10
			}
			modifier = {
				trigger = { has_global_variable = french_integration_secession }
				add = 70
			}
		}
	}
}

dvg_dua.522 = { #Glorious Revolution - DUA won
	type = country_event
	placement = ROOT

	title = dvg_dua.522.t
	desc = dvg_dua.522.d
	flavor = dvg_dua.522.f

	event_image = {
		video = "southamerica_aristocrats"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/southamerica/aristocrats"

	icon = "gfx/interface/icons/event_icons/event_fire.dds"

	duration = 3

	trigger = {
		exists = c:DUA
		this = c:DUA
		has_global_variable = eng_revolted
		NOT = { has_global_variable = eng_revolt_fail }
		NOT = {
			exists = c:ENG
		}
		owns_entire_state_region = STATE_MIDLANDS
	}

	immediate = {
		set_global_variable = eng_revolt_fail
	}

	option = {
		name = dvg_dua.522.a
		default_option = yes

		add_loyalists = {
			value = 0.1
			culture = cu:british
		}

		if = {
			limit = {
				has_journal_entry = je_dual_integration
			}

			custom_tooltip = {
				text = dvg_anglois_progress_increase_10_tt
				change_variable = {
					name = anglois_progress
					add = 10
				}
			}

			# custom_tooltip = {
			# 	text = dvg_decrease_eng_revolt_2_tt
			# 	change_variable = {
			# 		name = eng_revolt
			# 		subtract = 2
			# 	}
			# }
		}

		if = {
			limit = {
				exists = c:BEO
			}

			c:BEO = {
				add_modifier = {
					name = dvg_beornia_migration
					days = long_modifier_time
				}
			}
		}
	}
}

dvg_dua.523 = { #Glorious Revolution - DUA lose
	type = country_event
	placement = ROOT

	title = dvg_dua.523.t
	desc = dvg_dua.523.d
	flavor = dvg_dua.523.f

	event_image = {
		video = "southamerica_aristocrats"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/southamerica/aristocrats"

	icon = "gfx/interface/icons/event_icons/event_fire.dds"

	duration = 3

	trigger = {
		exists = c:DUA
		this = c:DUA
		has_journal_entry = je_dual_integration
		has_global_variable = eng_revolted
		NOT = { has_global_variable = eng_revolt_win }
		OR = {
			AND = {
				exists = c:ENG
				has_truce_with = c:ENG
				NOT = { is_diplomatic_play_enemy_of = c:ENG }
				NOT = { has_war_with = c:ENG}
			}
		}
		NOT = { owns_entire_state_region = STATE_MIDLANDS }
	}

	immediate = {
		set_global_variable = eng_revolt_win
	}

	option = {
		name = dvg_dua.523.a
		default_option = yes

		custom_tooltip = {
			text = dvg_anglois_progress_decrease_50_tt
			change_variable = {
				name = anglois_progress
				subtract = 50
			}
		}
	}
}

dvg_dua.524 = { #Foreign support
	type = country_event
	placement = ROOT

	title = dvg_dua.524.t
	desc = dvg_dua.524.d
	flavor = dvg_dua.524.f

	event_image = {
		video = "southamerica_aristocrats"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/southamerica/aristocrats"

	icon = "gfx/interface/icons/event_icons/event_fire.dds"

	duration = 1

	trigger = {
		exists = c:ENG
		this = c:ENG
		NOT = { has_variable = foreign_support_cooldown }
		NOT = { has_variable = foreign_support_war_cooldown }
		any_diplomatic_play = {
			initiator ?= c:DUA
			target = root
			OR = {
				is_diplomatic_play_type = dp_secession
				is_diplomatic_play_type = dp_rebellion
			}
			is_war = no
		}
	}

	immediate = {
		set_variable = {
			name = foreign_support_cooldown
			months = foreign_support_cooldown_months
		}

		save_scope_as = target_country
		c:DUA = {
			save_scope_as = initiator
		}

		random_diplomatic_play = {
			limit = {
				any_scope_play_involved = { this = scope:initiator }
				any_scope_play_involved = { this = scope:target_country }
				OR = {
					is_diplomatic_play_type = dp_secession
					is_diplomatic_play_type = dp_rebellion
				}
            }
			save_scope_as = war
		}
	}

	option = {
		name = dvg_dua.524.a
		trigger = {
			exists = c:SCA
			NOT = { has_variable = foreign_support_sca }
		}

		set_variable = {
			name = foreign_support_sca
			months = foreign_support_war_cooldown_months
		}

		c:SCA = {
			change_relations = { 
				country = c:ENG 
				value = 50 
			}
			trigger_event = {
				id = dvg_diplomatic_events.1 
				days = 1 
				popup = yes
			}
		}

		ai_chance = {
			base = 10
			modifier = {
				trigger = { c:SCA = { country_rank < rank_value:major_power } }
				add = -1000
			}
			modifier = {
				trigger = { c:SCA = { has_truce_with = c:DUA } }
				add = -1000
			}
		}
	}

	option = {
		name = dvg_dua.524.b
		default_option = yes

		trigger = {
			exists = c:BRG
			NOT = { has_variable = foreign_support_brg }
		}

		set_variable = {
			name = foreign_support_brg
			months = foreign_support_war_cooldown_months
		}

		c:BRG = {
			change_relations = { 
				country = c:ENG 
				value = 50 
			}
			trigger_event = { id = dvg_diplomatic_events.1 days = 1 popup = yes }
		}

		ai_chance = {
			base = 60
			modifier = {
				trigger = { c:BRG = { country_rank < rank_value:major_power } }
				add = -1000
			}
			modifier = {
				trigger = { c:BRG = { has_truce_with = c:DUA } }
				add = -1000
			}
		}
	}

	option = {
		name = dvg_dua.524.c

		trigger = {
			exists = c:ARN
			NOT = { has_variable = foreign_support_arn }
		}

		set_variable = {
			name = foreign_support_arn
			months = foreign_support_war_cooldown_months
		}

		c:ARN = {
			change_relations = { 
				country = c:ENG
				value = 50 
			}
			trigger_event = { id = dvg_diplomatic_events.1 days = 1 popup = yes }
		}

		ai_chance = {
			base = 30
			modifier = {
				trigger = { c:ARN = { country_rank < rank_value:major_power } }
				add = -1000
			}
			modifier = {
				trigger = { c:ARN = { has_truce_with = c:DUA } }
				add = -1000
			}
		}
	}

	option = {
		name = dvg_dua.524.e

		set_variable = {
			name = foreign_support_war_cooldown
			months = foreign_support_war_cooldown_months
		}
	
		ai_chance = {
			base = 1
		}
	}
}

dvg_dua.525 = { #Anglois is dead
	type = country_event
	placement = ROOT

	title = dvg_dua.525.t
	desc = dvg_dua.525.d
	flavor = dvg_dua.525.f

	event_image = {
		video = "unspecific_factory_closed"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/unspecific/factory_closed"

	icon = "gfx/interface/icons/event_icons/event_skull.dds"

	duration = 3

	trigger = {
		exists = c:DUA
		this = c:DUA
		has_global_variable = dua_global_revolted
		is_at_war = no
		is_diplomatic_play_committed_participant = no
		c:DUA = {
			country_is_in_europe = no
		}
	}

	option = {
		name = dvg_dua.525.a
		trigger = {
			exists = c:FRA
		}
		set_variable = {
			name = foreign_support_sca
			months = foreign_support_war_cooldown_months
		}
		every_scope_state = {
			limit = {
				owner = ROOT
				state_region = {
					is_homeland = cu:anglois
				}
			}
			state_region = {
				remove_homeland = cu:anglois
			}
		}
		c:FRA = {
			annex = ROOT
		}
		ai_chance = {
			base = 50
			modifier = {
				trigger = {
					any_scope_state = {
						state_region = s:STATE_ILE_DE_FRANCE
						owner = c:FRA
					}
				}
				add = 1000
			}
		}
	}

	option = {
		name = dvg_dua.525.b
		default_option = yes
		trigger = {
			exists = c:ENG
		}
		every_scope_state = {
			limit = {
				owner = ROOT
				state_region = {
					is_homeland = cu:anglois
				}
			}

			state_region = {
				remove_homeland = cu:anglois
			}
		}
		c:ENG = {
			annex = ROOT
		}
		ai_chance = {
			base = 50
			modifier = {
				trigger = {
					any_scope_state = {
						state_region = s:STATE_ILE_DE_FRANCE
						owner = c:ENG
					}
				}
				add = 1000
			}
		}
	}
}

dvg_dua.526 = { #Total Revolution won
	type = country_event
	placement = ROOT

	title = dvg_dua.526.t
	desc = dvg_dua.526.d
	#flavor = dvg_dua.526.f

	event_image = {
		video = "europenorthamerica_capitalists_meeting"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/europenorthamerica/capitalists_meeting"

	icon = "gfx/interface/icons/event_icons/event_default.dds"

	duration = 3

	trigger = {
		exists = c:DUA
		this = c:DUA
		has_global_variable = dua_global_revolted
		NOT = {
			any_diplomatic_play = {
				initiator = c:DUA
				OR = {
					target = c:FRA
					target = c:IRE
					target = c:ENG
				}
				OR = {
					is_diplomatic_play_type = dp_secession
					is_diplomatic_play_type = dp_rebellion
				}
			}
		}
		NOT = { exists = c:FRA }
		NOT = { exists = c:ENG }
	}

	immediate = {
		set_global_variable = dua_global_revolted_won
	}
	
	option = {
		name = dvg_dua.526.a
		default_option = yes

		ai_chance = {
			base = 1
		}
	}
}

dvg_dua.527 = { #Dua lost England
	type = country_event
	placement = ROOT

	title = dvg_dua.527.t
	desc = dvg_dua.527.d
	flavor = dvg_dua.527.f

	event_image = {
		video = "europenorthamerica_capitalists_meeting"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/europenorthamerica/capitalists_meeting"

	icon = "gfx/interface/icons/event_icons/event_default.dds"

	duration = 3

	trigger = {
		exists = c:DUA
		this = c:DUA
		#has_variable = anglois_path
		coa_controls_part_of_england = no
		NOT = { exists = c:FRA }
		NOT = {
			any_diplomatic_play = {
				initiator = c:DUA
				OR = {
					target = c:FRA
					target = c:IRE
					target = c:ENG
				}
				OR = {
					is_diplomatic_play_type = dp_secession
					is_diplomatic_play_type = dp_rebellion
				}
			}
		}
		NOT = { country_has_primary_culture = cu:french }
		NOT = { has_global_variable = anglois_accepted }
		has_revolution = no
	}

	option = {
		name = dvg_dua.527.a
		default_option = yes
		
		add_primary_culture = cu:french

		add_loyalists = {
			value = 0.35
			culture = cu:french
		}

		ai_chance = {
			base = 1
		}
	}
}

dvg_dua.528 = { #Dua lost France
	type = country_event
	placement = ROOT

	title = dvg_dua.528.t
	desc = dvg_dua.528.d
	flavor = dvg_dua.528.f

	event_image = {
		video = "europenorthamerica_capitalists_meeting"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/europenorthamerica/capitalists_meeting"

	icon = "gfx/interface/icons/event_icons/event_default.dds"

	duration = 3

	trigger = {
		exists = c:DUA
		this = c:DUA
		#has_variable = anglois_path
		coa_controls_part_of_france = no
		#NOT = { exists = c:ENG }
		any_scope_state = {
			state_region = s:STATE_HOME_COUNTIES
		}
		NOT = {
			any_diplomatic_play = {
				initiator = c:DUA
				OR = {
					target = c:FRA
					target = c:IRE
					target = c:ENG
				}
				OR = {
					is_diplomatic_play_type = dp_secession
					is_diplomatic_play_type = dp_rebellion
				}
			}
		}
		NOT = { country_has_primary_culture = cu:british }
		NOT = { has_global_variable = anglois_accepted }
		has_revolution = no
	}

	option = {
		name = dvg_dua.528.a
		default_option = yes

		add_primary_culture = cu:british

		add_loyalists = {
			value = 0.35
			culture = cu:british
		}

		ai_chance = {
			base = 1
		}
	}
}

dvg_dua.529 = { # Pearl of the europe
	type = country_event
	placement = ROOT

	title = dvg_dua.529.t
	desc = dvg_dua.529.d
	flavor = dvg_dua.529.f

	event_image = {
		video = "unspecific_military_parade"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_portrait.dds"

	duration = 3

	trigger = {
	}

	immediate = {

	}

	option = {
		name = dvg_dua.529.a
		default_option = yes
		random_scope_state = {
			limit = {
				state_region = s:STATE_ILE_DE_FRANCE
			}
			add_modifier = {
				name = modifier_paris_chain_bridge
			}
			add_modifier = {
				name = modifier_paris_steam_mills
				days = long_modifier_time
			}
		}
		ig:ig_industrialists = {
			add_modifier = {
				name = modifier_paris_grain_barons
				days = normal_modifier_time
			}
		}
	}

	option = {
		name = dvg_dua.529.b
		add_modifier = {
			name = modifier_greater_paris
			days = long_modifier_time
		}
		random_scope_state = {
			limit = {
				state_region = s:STATE_ILE_DE_FRANCE
			}
			add_modifier = {
				name = modifier_paris_chain_bridge
			}
		}
		ig:ig_intelligentsia ?= {
			add_modifier = {
				name = modifier_paris_academy
				days = normal_modifier_time
			}
		}
	}
}
