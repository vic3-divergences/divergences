namespace = sagrada_familia

# Sagrada Família Cathedral, je_sagrada_familia start event
sagrada_familia.1 = {
	type = country_event
	placement = scope:relevant_state

	duration = 3

	title = sagrada_familia.1.t
	desc = sagrada_familia.1.d
	flavor = sagrada_familia.1.f

	event_image = {
		video = "ip4_university_lecture"
	}

	dlc = dlc016

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_portrait.dds"

	cooldown = { days = never_fire_again_modifier_time }

	trigger = {
		# Triggered by JE
	}

	immediate = {
	    random_scope_state = {
            limit = {
                state_region = s:STATE_CATALONIA
            }
            save_scope_as = relevant_state
        }
        ig:ig_devout = {
        	save_scope_as = relevant_ig
        }
	}

	cancellation_trigger = {
		OR = {
            NOT = {
                any_scope_state = {
                    state_region = s:STATE_CATALONIA
                }
            }
            has_variable = rejected_sagrada_familia_project
        }
	}

	option = {
		name = sagrada_familia.1.a
		default_option = yes
		custom_tooltip = sagrada_familia_1_construct_tt
		ig:ig_devout = {
			add_modifier = {
				name = sagrada_familia_accepted
				days = normal_modifier_time
			}
		}
		set_variable = accepted_sagrada_familia_project
	}

	option = {
		name = sagrada_familia.1.b
		ig:ig_devout = {
			add_modifier = {
				name = sagrada_familia_rejected
				days = normal_modifier_time
			}
		}
		custom_tooltip = {
			text = dismissed_sagrada_familia_je_tt
			set_variable = rejected_sagrada_familia_project
		}
	}
}

# Sagrada Família Cathedral Stage 1 Complete, Stage 2 Start
sagrada_familia.2 = {
	type = country_event
	placement = scope:relevant_state

	duration = 3

	title = sagrada_familia.2.t
	desc = sagrada_familia.2.d
	flavor = sagrada_familia.2.f

	event_image = {
		video = "europenorthamerica_art_gallery"
	}

	dlc = dlc016

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_portrait.dds"

	cooldown = { days = never_fire_again_modifier_time }

	trigger = {
		# Triggered by on_building_built
	}

	immediate = {
	    random_scope_state = {
            limit = {
                state_region = s:STATE_CATALONIA
            }
            save_scope_as = relevant_state
        }
        ig:ig_industrialists ?= {
        	save_scope_as = relevant_ig
        	leader = {
        		save_scope_as = relevant_ig_leader
        	}
        }
	}

	cancellation_trigger = {
		OR = {
            NOT = {
                any_scope_state = {
                    state_region = s:STATE_CATALONIA
                }
            }
            has_variable = rejected_sagrada_familia_project
        }
	}

	option = {
		name = sagrada_familia.2.a
		default_option = yes
		custom_tooltip = sagrada_familia_2_construct_tt
		scope:relevant_ig_leader = {
			add_modifier = {
				name = sagrada_familia_patron
				days = normal_modifier_time
			}
		}
		set_variable = sagrada_familia_stage_complete_1_var
	}
}

# Sagrada Família Cathedral Stage 2 Complete, Stage 3 Start
sagrada_familia.3 = {
	type = country_event
	placement = scope:relevant_state

	duration = 3

	title = sagrada_familia.3.t
	desc = sagrada_familia.3.d
	flavor = sagrada_familia.3.f

	event_image = {
		video = "southamerica_christianity"
	}

	dlc = dlc016

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_portrait.dds"

	cooldown = { days = never_fire_again_modifier_time }

	trigger = {
		# Triggered by on_building_built
	}

	immediate = {
	    random_scope_state = {
            limit = {
                state_region = s:STATE_CATALONIA
            }
            save_scope_as = relevant_state
        }
        ig:ig_devout = {
        	save_scope_as = relevant_ig
        }
	}

	cancellation_trigger = {
		OR = {
            NOT = {
                any_scope_state = {
                    state_region = s:STATE_CATALONIA
                }
            }
            has_variable = rejected_sagrada_familia_project
        }
	}

	option = {
		name = sagrada_familia.3.a
		default_option = yes
		custom_tooltip = sagrada_familia_3_construct_tt
		scope:relevant_state = {
			add_loyalists_in_state = {
				pop_type = academics
				value = medium_radicals
			}
		}
		add_modifier = {
			name = sagrada_familia_construction
			days = normal_modifier_time
		}
		set_variable = sagrada_familia_stage_complete_2_var
	}
}

# Sagrada Família Cathedral, Stage 3 Complete
sagrada_familia.4 = {
	type = country_event
	placement = scope:relevant_state

	duration = 3

	title = sagrada_familia.4.t
	desc = sagrada_familia.4.d
	flavor = sagrada_familia.4.f

	event_image = {
		video = "unspecific_world_fair"
	}

	dlc = dlc016

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_portrait.dds"

	cooldown = { days = never_fire_again_modifier_time }

	trigger = {
		# Triggered by JE
	}

	immediate = {
		random_scope_state = {
            limit = {
                state_region = s:STATE_CATALONIA
            }
            save_scope_as = relevant_state
        }

	}

	cancellation_trigger = {
		OR = {
            NOT = {
                any_scope_state = {
                    state_region = s:STATE_CATALONIA
                }
            }
            has_variable = rejected_sagrada_familia_project
        }
	}

	option = {
		name = sagrada_familia.4.a
		default_option = yes
		scope:relevant_state = {
			add_modifier = {
				name = sagrada_familia_reward_loc
				days = moderately_long_modifier_time
			}
		}
	}

	option = {
		name = sagrada_familia.4.b
		add_modifier = {
			name = sagrada_familia_reward_int
			days = moderately_long_modifier_time
		}
	}
}

namespace = pena_palace

# Palácio da Pena, je_pena_palace start event
pena_palace.1 = {
	type = country_event
	placement = scope:relevant_state

	duration = 3

	title = pena_palace.1.t
	desc = pena_palace.1.d
	flavor = pena_palace.1.f

	event_image = {
		video = "southamerica_christianity"
	}

	dlc = dlc016

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_portrait.dds"

	cooldown = { days = never_fire_again_modifier_time }

	trigger = {
		# Triggered by JE
	}

	immediate = {
	    random_scope_state = {
            limit = {
                state_region = s:STATE_ESTREMADURA
            }
            save_scope_as = relevant_state
        }
        ig:ig_intelligentsia ?= {
        	save_scope_as = relevant_ig
        }
	}

	cancellation_trigger = {
		OR = {
            NOT = {
                any_scope_state = {
                    state_region = s:STATE_ESTREMADURA
                }
            }
            has_variable = rejected_pena_palace_project
        }
	}

	option = {
		name = pena_palace.1.a
		default_option = yes
		custom_tooltip = pena_palace_construct_tt
		set_variable = accepted_pena_palace_project
		ig:ig_intelligentsia ?= {
			add_modifier = {
				name = pena_palace_accepted
				days = normal_modifier_time
			}
		}
	}

	option = {
		name = pena_palace.1.b
		ig:ig_intelligentsia ?= {
			add_modifier = {
				name = pena_palace_rejected
				days = normal_modifier_time
			}
		}
		custom_tooltip = {
			text = dismissed_pena_palace_je_tt
			set_variable = rejected_pena_palace_project
		}
	}
}

# Palácio da Pena, je_pena_palace complete event
pena_palace.2 = {
	type = country_event
	placement = scope:relevant_state

	duration = 3

	title = pena_palace.2.t
	desc = pena_palace.2.d
	flavor = pena_palace.2.f

	event_image = {
		video = "europenorthamerica_art_gallery"
	}

	dlc = dlc016

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_portrait.dds"

	cooldown = { days = never_fire_again_modifier_time }

	trigger = {
		# Triggered by JE
	}

	immediate = {
		random_scope_state = {
            limit = {
                state_region = s:STATE_ESTREMADURA
            }
            save_scope_as = relevant_state
        }

	}

	cancellation_trigger = {
		OR = {
            NOT = {
                any_scope_state = {
                    state_region = s:STATE_ESTREMADURA
                }
            }
            has_variable = rejected_pena_palace_project
        }
	}

	option = {
		name = pena_palace.2.a
		default_option = yes
		scope:relevant_state = {
			add_modifier = {
				name = pena_palace_reward_loc
				days = long_modifier_time
			}
		}
	}

	option = {
		name = pena_palace.2.b
		add_modifier = {
			name = pena_palace_reward_int
			days = long_modifier_time
		}
	}
}

namespace = gran_teatro

# Gran Teatro de La Habana, je_gran_teatro start event
gran_teatro.1 = {
	type = country_event
	placement = scope:relevant_state

	duration = 3

	title = gran_teatro.1.t
	desc = gran_teatro.1.d
	flavor = gran_teatro.1.f

	event_image = {
		video = "unspecific_signed_contract"
	}

	dlc = dlc016

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_portrait.dds"

	cooldown = { days = never_fire_again_modifier_time }

	trigger = {
		# Triggered by JE
		any_scope_state = {
            state_region = s:STATE_WESTERN_CUBA
        }
	}

	immediate = {
	    random_scope_state = {
            limit = {
                state_region = s:STATE_WESTERN_CUBA
            }
            save_scope_as = relevant_state
        }
        ig:ig_petty_bourgeoisie ?= {
        	save_scope_as = relevant_ig
        }
	}

	cancellation_trigger = {
		OR = {
            NOT = {
                any_scope_state = {
                    state_region = s:STATE_WESTERN_CUBA
                }
            }
            has_variable = rejected_gran_teatro_project
        }
	}

	option = {
		name = gran_teatro.1.a
		default_option = yes
		custom_tooltip = gran_teatro_construct_tt
		set_variable = accepted_gran_teatro_project
		ig:ig_petty_bourgeoisie ?= {
			add_modifier = {
				name = gran_teatro_accepted
				days = normal_modifier_time
			}
		}
	}

	option = {
		name = gran_teatro.1.b
		ig:ig_petty_bourgeoisie ?= {
			add_modifier = {
				name = gran_teatro_rejected
				days = normal_modifier_time
			}
		}
		custom_tooltip = {
			text = dismissed_gran_teatro_je_tt
			set_variable = rejected_gran_teatro_project
		}
	}
}

# Gran Teatro de La Habana, je_gran_teatro complete event
gran_teatro.2 = {
	type = country_event
	placement = scope:relevant_state

	duration = 3

	title = gran_teatro.2.t
	desc = gran_teatro.2.d
	flavor = gran_teatro.2.f

	event_image = {
		video = "southamerica_factory_opening"
	}

	dlc = dlc016

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_portrait.dds"

	cooldown = { days = never_fire_again_modifier_time }

	trigger = {
		# Triggered by JE
	}

	immediate = {
		random_scope_state = {
            limit = {
                state_region = s:STATE_WESTERN_CUBA
            }
            save_scope_as = relevant_state
        }
        ig:ig_petty_bourgeoisie ?= {
        	save_scope_as = relevant_ig
        }
	}

	cancellation_trigger = {
		OR = {
            NOT = {
                any_scope_state = {
                    state_region = s:STATE_WESTERN_CUBA
                }
            }
            has_variable = rejected_gran_teatro_project
        }
	}

	option = {
		name = gran_teatro.2.a
		default_option = yes
		scope:relevant_state = {
			add_modifier = {
				name = gran_teatro_reward_loc
				days = long_modifier_time
			}
		}
	}

	option = {
		name = gran_teatro.2.b
		add_modifier = {
			name = gran_teatro_reward_int
			days = long_modifier_time
		}
	}
}

namespace = atocha_railway

# Estación de Madrid Atocha, je_atocha_railway start event
atocha_railway.1 = {
	type = country_event
	placement = scope:relevant_state

	duration = 3

	title = atocha_railway.1.t
	desc = atocha_railway.1.d
	flavor = atocha_railway.1.f

	event_image = {
		video = "unspecific_trains"
	}

	dlc = dlc016

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_industry.dds"

	cooldown = { days = never_fire_again_modifier_time }

	trigger = {
		# Triggered by JE
	}

	immediate = {
	    random_scope_state = {
            limit = {
                state_region = s:STATE_NEW_CASTILE
            }
            save_scope_as = relevant_state
        }
        ig:ig_industrialists ?= {
        	save_scope_as = relevant_ig
        }
	}

	cancellation_trigger = {
		OR = {
            NOT = {
                any_scope_state = {
                    state_region = s:STATE_NEW_CASTILE
                }
            }
            has_variable = rejected_atocha_railway_project
        }
	}

	option = {
		name = atocha_railway.1.a
		default_option = yes
		custom_tooltip = atocha_railway_construct_tt
		set_variable = accepted_atocha_railway_project
		ig:ig_industrialists ?= {
			add_modifier = {
				name = atocha_railway_accepted
				days = normal_modifier_time
			}
		}
	}

	option = {
		name = atocha_railway.1.b
		ig:ig_industrialists ?= {
			add_modifier = {
				name = atocha_railway_rejected
				days = normal_modifier_time
			}
		}
		custom_tooltip = {
			text = dismissed_atocha_railway_je_tt
			set_variable = rejected_atocha_railway_project
		}
	}
}

# Estación de Madrid Atocha, je_atocha_railway complete event
atocha_railway.2 = {
	type = country_event
	placement = scope:relevant_state

	duration = 3

	title = atocha_railway.2.t
	desc = atocha_railway.2.d
	flavor = atocha_railway.2.f

	event_image = {
		video = "europenorthamerica_london_center"
	}

	dlc = dlc016

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_industry.dds"

	cooldown = { days = never_fire_again_modifier_time }

	trigger = {
		# Triggered by JE
	}

	immediate = {
		random_scope_state = {
            limit = {
                state_region = s:STATE_NEW_CASTILE
            }
            save_scope_as = relevant_state
        }

	}

	cancellation_trigger = {
		OR = {
            NOT = {
                any_scope_state = {
                    state_region = s:STATE_NEW_CASTILE
                }
            }
            has_variable = rejected_atocha_railway_project
        }
	}

	option = {
		name = atocha_railway.2.a
		default_option = yes
		scope:relevant_state = {
			add_modifier = {
				name = atocha_railway_reward_loc
				days = long_modifier_time
			}
		}
	}

	option = {
		name = atocha_railway.2.b
		add_modifier = {
			name = atocha_railway_reward_int
			days = long_modifier_time
		}
	}
}