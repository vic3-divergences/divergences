namespace = dvg_canal_events

# Moravia Survey complete
dvg_canal_events.100 = {
	type = country_event

	title = dvg_canal_events.100.t
	desc = {
		first_valid = {
			triggered_desc = {
				desc = dvg_canal_events.100.d
				trigger = {
					any_scope_state = { state_region = s:STATE_MORAVIA }
				}
			}
			triggered_desc = {
				desc = dvg_canal_events.101.d
				trigger = {
					NOT = { any_scope_state = { state_region = s:STATE_MORAVIA } }
				}
			}
		}
	}
	flavor = dvg_canal_events.100.f

	event_image = {
		video = "africa_construction_colony"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_map.dds"

	duration = 3

	trigger = {
		# triggered by JE
	}

	immediate = {
		set_variable = moravia_survey_complete
	}

	option = { # we should build the canal
		name = dvg_canal_events.100.a
		trigger = {
			any_scope_state = { state_region = s:STATE_MORAVIA }
		}
		add_journal_entry = {
			type = je_intermarium_canal
		}
		custom_tooltip = intermarium_canal_construction_available
	}
}

# The Intermarium
dvg_canal_events.200 = {
	type = country_event

	title = dvg_canal_events.200.t
	desc = {
		first_valid = {
			triggered_desc = {
				desc = dvg_canal_events.200.d
				trigger = {
					any_scope_state = { state_region = s:STATE_MORAVIA }
				}
			}
			triggered_desc = {
				desc = dvg_canal_events.201.d
				trigger = {
					NOT = { any_scope_state = { state_region = s:STATE_MORAVIA } }
				}
			}
		}
	}
	flavor = dvg_canal_events.200.f

	event_image = {
		video = "africa_construction_colony"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_map.dds"

	duration = 3

	trigger = {
		# triggered by JE
	}

	immediate = {
		set_variable = moravia_survey_complete
	}

	option = { # Open the Sluices!
		name = dvg_canal_events.200.a
		s:STATE_MORAVIA = {
			add_state_trait = state_trait_intermarium_waterway_network
		}
		s:STATE_BOHEMIA = {
			add_state_trait = state_trait_intermarium_waterway_network
		}
		s:STATE_SAXONY = {
			add_state_trait = state_trait_intermarium_waterway_network
		}
		s:STATE_ANHALT = {
			add_state_trait = state_trait_intermarium_waterway_network
		}
		s:STATE_HANNOVER = {
			add_state_trait = state_trait_intermarium_waterway_network
		}
		s:STATE_SILESIA = {
			add_state_trait = state_trait_intermarium_waterway_network
		}
		s:STATE_BRANDENBURG = {
			add_state_trait = state_trait_intermarium_waterway_network
		}
		s:STATE_POMERANIA = {
			add_state_trait = state_trait_intermarium_waterway_network
		}
		s:STATE_BAVARIA = {
			add_state_trait = state_trait_intermarium_waterway_network
		}
		s:STATE_AUSTRIA = {
			add_state_trait = state_trait_intermarium_waterway_network
		}
		s:STATE_WEST_SLOVAKIA = {
			add_state_trait = state_trait_intermarium_waterway_network
		}
		s:STATE_CENTRAL_HUNGARY = {
			add_state_trait = state_trait_intermarium_waterway_network
		}
		s:STATE_TRANSDANUBIA = {
			add_state_trait = state_trait_intermarium_waterway_network
		}
		s:STATE_VOJVODINA = {
			add_state_trait = state_trait_intermarium_waterway_network
		}
		s:STATE_WALLACHIA = {
			add_state_trait = state_trait_intermarium_waterway_network
		}
		s:STATE_NORTHERN_SERBIA = {
			add_state_trait = state_trait_intermarium_waterway_network
		}
		s:STATE_BULGARIA = {
			add_state_trait = state_trait_intermarium_waterway_network
		}
		s:STATE_DOBRUDJA = {
			add_state_trait = state_trait_intermarium_waterway_network
		}
		
	}
}