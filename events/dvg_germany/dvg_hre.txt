namespace = dvg_hre

### Holy Roman Empire
### Imperial incidents
### First Imperial Incident: Bayreuth Constitution
dvg_hre.1 = {
    type = country_event
    placement = ROOT

    title = dvg_hre.1.t
    desc = dvg_hre.1.d
    flavor = dvg_hre.1.f

    event_image = {video = "unspecific_military_parade"}
    on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
    icon = "gfx/interface/icons/event_icons/event_default.dds"
    duration = 1

    option = {
        name = dvg_hre.1.a

        c:FRE ?= {
            activate_law = law_type:law_census_voting
            activate_law = law_type:law_freedom_of_conscience
            activate_law = law_type:law_right_of_assembly
        }

        add_journal_entry = { type = je_hre_bayreuth_constitution }


    }
}

### Nürnberg Fire
dvg_hre.2 = {
    type = country_event
    placement = ROOT

    title = dvg_hre.2.t
    desc = dvg_hre.2.d
    flavor = dvg_hre.2.f

    event_image = {video = "unspecific_military_parade"}
    on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
    icon = "gfx/interface/icons/event_icons/event_default.dds"
    duration = 1

    option = {
        name = dvg_hre.2.a

        decrease_hre_stability = yes

        every_country = {
            limit = {
                OR = {
                    country_has_primary_culture = cu:north_german
                    country_has_primary_culture = cu:south_german
                    country_has_primary_culture = cu:rheinish
                }
            }

            trigger_event = dvg_hre.3
        }

        set_global_variable = dvg_nuernberg_fire

    }
}

### Nürnberglied
dvg_hre.3 = {
    type = country_event
    placement = ROOT

    title = dvg_hre.3.t
    desc = dvg_hre.3.d
    flavor = dvg_hre.3.f

    event_image = {video = "unspecific_military_parade"}
    on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
    icon = "gfx/interface/icons/event_icons/event_default.dds"
    duration = 1

    option = {
        name = dvg_hre.2.a


        change_relations = { country = c:BOH value = -30 }

        if = {
            limit = {
                has_modifier = dvg_zeal_oath
            }
            remove_modifier = dvg_zeal_oath
        }

        add_modifier = {
            name = dvg_nuernberglied
        }

    }
}


### Imperial Incident: Bayreuth Electorate
### Triggered if Bayreuth is a subject
dvg_hre.4 = {
    type = country_event
    placement = ROOT

    title = dvg_hre.4.t
    desc = dvg_hre.4.d
    flavor = dvg_hre.4.f

    event_image = {video = "unspecific_military_parade"}
    on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
    icon = "gfx/interface/icons/event_icons/event_default.dds"
    duration = 1

    immediate = {
        every_country = {
            limit = {
                has_subject_relation_with = c:FRE
            }
            save_scope_as = dvg_bayreuth_overlord
        }

        set_variable = bayreuth_electorate_fired
    }

    trigger = {
        exists = c:FRE
        c:FRE = { is_subject = yes }

        this = c:BOH

        NOT = { has_variable = bayreuth_electorate_fired }
    }

    option = {
        name = dvg_hre.4.a

        add_journal_entry = { type = je_hre_bayreuth_electorate }

    }
}

### Electorate of Baden
dvg_hre.5 = {
    type = country_event
    placement = ROOT

    title = dvg_hre.5.t
    desc = dvg_hre.5.d
    flavor = dvg_hre.5.f

    event_image = {video = "unspecific_military_parade"}
    on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
    icon = "gfx/interface/icons/event_icons/event_default.dds"
    duration = 1

    option = {
        name = dvg_hre.5.a

        add_modifier = dvg_electorate_baden

        join_power_bloc = c:BOH
        c:BOH.power_bloc = {
            add_leverage = { target = c:BAD value = 1000 }
        }

        add_journal_entry = { type = je_matter_of_swabia }

    }
}

### Bohemia demands independence of Bayreuth
dvg_hre.6 = {
    type = country_event
    placement = ROOT

    title = dvg_hre.6.t
    desc = dvg_hre.6.d
    flavor = dvg_hre.6.f

    event_image = {video = "unspecific_military_parade"}
    on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
    icon = "gfx/interface/icons/event_icons/event_default.dds"
    duration = 1

    option = { ## accept
        name = dvg_hre.6.a

        remove_diplomatic_pact = {
            country = c:FRE
            type = puppet
        }

        increase_hre_stability = yes

        ai_chance = {
            base = 100 ### AI should fear Bohemia and "return Bayreuth"
        }
    }


    option = { ## decline
        name = dvg_hre.6.b

        c:BOH = {
            create_diplomatic_play = {
                type = dp_liberate_subject
                target_country = c:FRE
            }
        }

    }
}


### Swabia ###

dvg_hre.7 = {
    type = country_event
    placement = ROOT

    title = dvg_hre.7.t
    desc = dvg_hre.7.d
    flavor = dvg_hre.7.f

    event_image = {video = "unspecific_military_parade"}
    on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
    icon = "gfx/interface/icons/event_icons/event_default.dds"
    duration = 1


    option = { ## Give to Bavaria
        name = dvg_hre.7.a

        c:BAV = {
            trigger_event = dvg_hre.8
        }

        c:BAD = {
            trigger_event = dvg_hre.9
        }

        ai_chance = {
            base = 50
        }
    }

    option = { ## Give to Baden
        name = dvg_hre.7.b

        c:BAV = {
            trigger_event = dvg_hre.9
        }

        c:BAD = {
            trigger_event = dvg_hre.8
        }

        ai_chance = {
            base = 50
        }

    }

}

### Free city of Ulm

dvg_hre.8 = {
    type = country_event
    placement = ROOT

    title = dvg_hre.8.t
    desc = dvg_hre.8.d
    flavor = dvg_hre.8.f

    event_image = {video = "unspecific_military_parade"}
    on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
    icon = "gfx/interface/icons/event_icons/event_default.dds"
    duration = 1


    option = { ## As expected
        name = dvg_hre.8.a

        create_diplomatic_pact = {
            type = puppet
            country = c:ULM
        }

        add_modifier = {
            name = recently_awarded_ulm
            days = 600
        }


    }



}

### We have been scorned
dvg_hre.9 = {
    type = country_event
    placement = ROOT

    title = dvg_hre.9.t
    desc = dvg_hre.9.d
    flavor = dvg_hre.9.f

    event_image = {video = "unspecific_military_parade"}
    on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
    icon = "gfx/interface/icons/event_icons/event_default.dds"
    duration = 1


    option = { ## This is an outrage
        name = dvg_hre.9.a
    }


}


### Baden Ultimatum

dvg_hre.10 = {
    type = country_event
    placement = ROOT

    title = dvg_hre.10.t
    desc = dvg_hre.10.d
    flavor = dvg_hre.10.f

    event_image = {video = "unspecific_military_parade"}
    on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
    icon = "gfx/interface/icons/event_icons/event_default.dds"
    duration = 1


    option = { ## I am to weak anakin
        name = dvg_hre.10.a

        c:BAD = {
            create_diplomatic_pact = {
                type = puppet
                country = c:WUR
            }
        }
    }


}

### Unification of Swabia

dvg_hre.11 = {
    type = country_event
    placement = ROOT

    title = dvg_hre.11.t
    desc = dvg_hre.11.d
    flavor = dvg_hre.11.f

    event_image = {video = "unspecific_military_parade"}
    on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
    icon = "gfx/interface/icons/event_icons/event_default.dds"
    duration = 1


    option = { ##
        name = dvg_hre.11.a

        decrease_hre_stability = yes
    }


}

### Bremen riots ###
dvg_hre.12 = {
    type = country_event
    placement = ROOT

    title = dvg_hre.12.t
    desc = dvg_hre.12.d
    flavor = dvg_hre.12.f

    event_image = {video = "unspecific_military_parade"}
    on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
    icon = "gfx/interface/icons/event_icons/event_default.dds"
    duration = 1

    trigger = {
        this = c:BOH
        game_date >= 1842.1.1
        c:BRE = { is_in_same_power_bloc = c:SCA }

        NOT = { has_variable = hre_BRE_riots_fired }
    }

    immediate = {
        set_variable = hre_BRE_riots_fired
    }

    option = { ##
        name = dvg_hre.12.a

        decrease_hre_stability = yes

        c:SCA = {
            trigger_event = dvg_hre.13
        }
    }

    option = { ##
        name = dvg_hre.12.b

        decrease_hre_stability = yes
    }
}


### Emperor demands ###
dvg_hre.13 = {
    type = country_event
    placement = ROOT

    title = dvg_hre.13.t
    desc = dvg_hre.13.d
    flavor = dvg_hre.13.f

    event_image = {video = "unspecific_military_parade"}
    on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
    icon = "gfx/interface/icons/event_icons/event_default.dds"
    duration = 1


    option = { ##
        name = dvg_hre.13.a

        c:BOH = {
            trigger_event = dvg_hre.14
        }
    }

    option = { ##
        name = dvg_hre.13.b

        c:BOH = {
            trigger_event = dvg_hre.15
        }

        create_diplomatic_pact = {
            type = puppet
            country = c:BRE
        }
    }
}

### Scandinavian garrison leaves Bremen
dvg_hre.14 = {
    type = country_event
    placement = ROOT

    title = dvg_hre.14.t
    desc = dvg_hre.14.d
    flavor = dvg_hre.14.f

    event_image = {video = "unspecific_military_parade"}
    on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
    icon = "gfx/interface/icons/event_icons/event_default.dds"
    duration = 1


    option = { ##
        name = dvg_hre.14.a

        c:BRE = { join_power_bloc = c:BOH }
        c:BOH.power_bloc = {
            add_leverage = { target = c:BRE value = 1000 }
        }

    }

}

### Scandinavian garrison occupies Bremen
dvg_hre.15 = {
    type = country_event
    placement = ROOT

    title = dvg_hre.15.t
    desc = dvg_hre.15.d
    flavor = dvg_hre.15.f

    event_image = {video = "unspecific_military_parade"}
    on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
    icon = "gfx/interface/icons/event_icons/event_default.dds"
    duration = 1


    option = { ##
        name = dvg_hre.15.a

        create_diplomatic_play = {
            type = dp_liberate_subject
            target_country = c:BRE
        }
    }

    option = { ##
        name = dvg_hre.15.b
        decrease_hre_stability = yes

    }
}

### Thuringian Succession
dvg_hre.16 = {
    type = country
    placement = ROOT

    title = dvg_hre.16.t
    desc = dvg_hre.16.d
    flavor = dvg_hre.16.f

    event_image = {video = "unspecific_military_parade"}
    on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
    icon = "gfx/interface/icons/event_icons/event_default.dds"
    duration = 1

    trigger = {
        game_date >= 1844.1.1
        exists = c:THU
        exists = c:SME
        c:SME = { is_subject_of = c:THU }
        this = c:BOH

        NOT = { has_journal_entry = je_hre_thuringian_succession }
        NOT = { has_variable = je_hre_thuringian_succession_resolved }

    }

    option = { ##
        name = dvg_hre.16.a

        add_journal_entry = { type = je_hre_thuringian_succession }
    }
}

### Thuringian Succession - Just Rumors
dvg_hre.17 = {
    type = country
    placement = ROOT

    title = dvg_hre.17.t
    desc = dvg_hre.17.d
    flavor = dvg_hre.17.f

    event_image = {video = "unspecific_military_parade"}
    on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
    icon = "gfx/interface/icons/event_icons/event_default.dds"
    duration = 1

    trigger = {
        this = c:BOH
        has_journal_entry = je_hre_thuringian_succession
        NOT = { has_variable = je_hre_thuringian_succession_resolved }
        c:THU = { NOT = { has_modifier = je_hre_thuringian_succession_modifier }}
    }

    option = { ##
        name = dvg_hre.17.a
        set_variable = je_hre_thuringian_succession_resolved

    }
}

### The Thuringian Succession - A Meeting in Erfurt
dvg_hre.18 = {
    type = country
    placement = ROOT

    title = dvg_hre.18.t
    desc = dvg_hre.18.d
    flavor = dvg_hre.18.f

    event_image = {video = "unspecific_military_parade"}
    on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
    icon = "gfx/interface/icons/event_icons/event_default.dds"
    duration = 1

    option = { ##
        name = dvg_hre.18.a
        set_variable = je_hre_thuringian_succession_resolved
        set_variable = je_hre_thuringian_succession_resolved_failure

        decrease_hre_stability = yes

    }
}

### The Rise of the Hohenzollern
dvg_hre.19 = {
    type = country
    placement = ROOT

    title = dvg_hre.19.t
    desc = dvg_hre.19.d
    flavor = dvg_hre.19.f

    event_image = {video = "unspecific_military_parade"}
    on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
    icon = "gfx/interface/icons/event_icons/event_default.dds"
    duration = 1

    option = { ##
        name = dvg_hre.19.a

        increase_hre_stability = yes

        ai_chance = {
            base = 50
        }
    }

    option = { ##
        name = dvg_hre.19.b

        create_diplomatic_play = {
            type = dp_make_protectorate
            target_country = c:FRE
        }

        decrease_hre_stability = yes

        ai_chance = {
            base = 50
        }
    }
}


### The fate of Pommerania 
dvg_hre.20 = {
    type = country
    placement = ROOT

    title = dvg_hre.20.t
    desc = dvg_hre.20.d
    flavor = dvg_hre.20.f

    event_image = {video = "unspecific_military_parade"}
    on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
    icon = "gfx/interface/icons/event_icons/event_default.dds"
    duration = 1

    trigger = {
        this = c:BOH
        country_or_subject_owns_entire_state_region = STATE_MECKLENBURG
        country_or_subject_owns_entire_state_region = STATE_POMERANIA

        NOT = { has_variable = dvg_fate_of_pommerania_fired }
    }

    immediate = {
        set_variable = dvg_fate_of_pommerania_fired
    }

    option = { 
        name = dvg_hre.20.a

        if = {
            limit = { exists = c:MSZ }

            random_scope_state = {
                limit = {
                    state_region = s:STATE_MECKLENBURG
                }
                set_state_owner = c:MSZ
            }
        }
        else = {
            create_country = {
				tag = MSZ
				state = s:STATE_MECKLENBURG.region_state:BOH
			}

            create_diplomatic_pact = {
                country = c:MSZ
                type = puppet
            }
        }


        if = {
            limit = { exists = c:POM }

            random_scope_state = {
                limit = {
                    state_region = s:STATE_POMERANIA
                }
                set_state_owner = c:POM
            }
        }
        else = {
            create_country = {
				tag = POM
				state = s:STATE_POMERANIA.region_state:BOH
		    }

            create_diplomatic_pact = {
                country = c:POM
                type = puppet
            }
        }

        increase_hre_stability = yes

        ai_chance = {
            base = 50
        }
        
    }

    option = { 
        name = dvg_hre.20.b

        decrease_hre_stability = yes

        ai_chance = {
            base = 50
        }

    }
}



### some space ####


###  Hungarian Crisis ###
dvg_hre.50 = {
    type = country_event
    placement = ROOT

    title = dvg_hre.50.t
    desc = dvg_hre.50.d
    flavor = dvg_hre.50.f

    event_image = {video = "unspecific_military_parade"}
    on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
    icon = "gfx/interface/icons/event_icons/event_default.dds"
    duration = 1

    trigger = {
        this = c:BOH
        game_date >= 1838.1.1
        exists = c:HUN
        NOT = { c:HUN = { is_subject_of = c:BOH }}

        NOT = { has_variable = dvg_hre_hungarian_crisis_fired }
    }

    immediate = {
        set_variable = dvg_hre_hungarian_crisis_fired
    }

    option = {
        name = dvg_hre.50.a

        add_journal_entry = { type = je_dvg_hre_hungarian_crisis }

        c:HUN = { add_journal_entry = { type = je_dvg_hre_hungarian_crisis_hungary } }

        ai_chance = {
            base = 100
        }
    }

}

### A Meeting in Moravia ###
dvg_hre.51 = {
    type = country_event
    placement = ROOT

    title = dvg_hre.51.t
    desc = dvg_hre.51.d
    flavor = dvg_hre.51.f

    event_image = {video = "unspecific_military_parade"}
    on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
    icon = "gfx/interface/icons/event_icons/event_default.dds"
    duration = 1

    option = {
        name = dvg_hre.51.a

        c:HUN = {
            trigger_event = dvg_hre.52
        }

        ai_chance = {
            base = 100
        }
    }
}

### Hungarian Crisis - The Emperor demands ###
dvg_hre.52 = {
    type = country_event
    placement = ROOT

    title = dvg_hre.52.t
    desc = dvg_hre.52.d
    flavor = dvg_hre.52.f

    event_image = {video = "unspecific_military_parade"}
    on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
    icon = "gfx/interface/icons/event_icons/event_default.dds"
    duration = 1

    option = {
        name = dvg_hre.52.a

        c:BOH = {
            create_diplomatic_pact = {
                type = protectorate
                country = c:HUN
            }
        }

        ai_chance = {
            base = 10
        }

    }

    option = {
        name = dvg_hre.52.b

        trigger = { exists = c:BRG }

        c:BRG = { trigger_event = dvg_hre.53 }

        ai_chance = {
            base = 90
        }
    }


}


dvg_hre.53 = {
    type = country_event
    placement = ROOT

    title = dvg_hre.53.t
    desc = dvg_hre.53.d
    flavor = dvg_hre.53.f

    event_image = {video = "unspecific_military_parade"}
    on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
    icon = "gfx/interface/icons/event_icons/event_default.dds"
    duration = 1

    option = {
        name = dvg_hre.53.a

        c:BOH = {
            trigger_event = dvg_hre.54 days = 10
        }

        create_treaty = {
            first_country = c:BRG
            second_country = c:HUN

            is_draft = no
            binding_period = { years = 10 } 

            articles_to_create = {
                { # Defensive Pact
                    article = defensive_pact
                }
                { 
                    article = military_assistance
                    source_country = c:BRG
                    target_country = c:HUN
                }
            }
        }

        ai_chance = {
            base = 50
        }
    }

    option = {
        name = dvg_hre.53.b

        c:BOH = {
            trigger_event = dvg_hre.55
        }

        ai_chance = {
            base = 50
        }
    }
}

dvg_hre.54 = {
    type = country_event
    placement = ROOT

    title = dvg_hre.54.t
    desc = dvg_hre.54.d
    flavor = dvg_hre.54.f

    event_image = {video = "unspecific_military_parade"}
    on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
    icon = "gfx/interface/icons/event_icons/event_default.dds"
    duration = 1

    option = {
        name = dvg_hre.54.a

        create_diplomatic_play = {
            type = dp_make_protectorate
            target_country = c:HUN
        }

        hidden_effect = { #Why? Because pdx cant make a trigger so plays dont casue infamy....
			change_infamy = -80
		}

        ai_chance = {
            base = 100
        }
    }

    option = {
        name = dvg_hre.54.b

        set_global_variable = dvg_hre_hungarian_crisis_failed

        ai_chance = {
            base = 0
        }
    }

}

dvg_hre.55 = {
    type = country_event
    placement = ROOT

    title = dvg_hre.55.t
    desc = dvg_hre.55.d
    flavor = dvg_hre.55.f

    event_image = {video = "unspecific_military_parade"}
    on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
    icon = "gfx/interface/icons/event_icons/event_default.dds"
    duration = 1

    option = {
        name = dvg_hre.55.a

        create_diplomatic_pact = {
            type = protectorate
            country = c:HUN
        }

        c:HUN = {
            trigger_event = dvg_hre.56
        }

        ai_chance = {
            base = 100
        }
    }

}

dvg_hre.56 = {
    type = country_event
    placement = ROOT

    title = dvg_hre.56.t
    desc = dvg_hre.56.d
    flavor = dvg_hre.56.f

    event_image = {video = "unspecific_military_parade"}
    on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
    icon = "gfx/interface/icons/event_icons/event_default.dds"
    duration = 1

    option = {
        name = dvg_hre.56.a

        ai_chance = {
            base = 100
        }
    }
}

