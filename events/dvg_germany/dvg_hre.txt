namespace = dvg_hre

### Holy Roman Empire
### Imperial incidents
### First Imperial Incident: Bayreuth Constitution
dvg_hre.1 = {
    type = country_event
    placement = ROOT

    title = dvg_hre.1.t
    desc = dvg_hre.1.d
    flavor = dvg_hre.1.f

    event_image = {video = "unspecific_military_parade"}
    on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
    icon = "gfx/interface/icons/event_icons/event_default.dds"
    duration = 1

    option = {
        name = dvg_hre.1.a

        c:FRE ?= {
            activate_law = law_type:law_census_voting
            activate_law = law_type:law_freedom_of_conscience
            activate_law = law_type:law_right_of_assembly
        }


    }
}

### Nürnberg Fire
dvg_hre.2 = {
    type = country_event
    placement = ROOT

    title = dvg_hre.2.t
    desc = dvg_hre.2.d
    flavor = dvg_hre.2.f

    event_image = {video = "unspecific_military_parade"}
    on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
    icon = "gfx/interface/icons/event_icons/event_default.dds"
    duration = 1

    option = {
        name = dvg_hre.2.a

        decrease_hre_stability = yes

        every_country = {
            limit = {
                OR = {
                    country_has_primary_culture = cu:north_german
                    country_has_primary_culture = cu:south_german
                    country_has_primary_culture = cu:rheinish
                }
            }

            trigger_event = dvg_hre.3
        }

        set_global_variable = dvg_nuernberg_fire

    }
}

### Nürnberglied
dvg_hre.3 = {
    type = country_event
    placement = ROOT

    title = dvg_hre.3.t
    desc = dvg_hre.3.d
    flavor = dvg_hre.3.f

    event_image = {video = "unspecific_military_parade"}
    on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
    icon = "gfx/interface/icons/event_icons/event_default.dds"
    duration = 1

    option = {
        name = dvg_hre.2.a


        change_relations = { country = c:BOH value = -30 }

        if = {
            limit = {
                has_modifier = dvg_zeal_oath
            }
            remove_modifier = dvg_zeal_oath
        }

        add_modifier = {
            name = dvg_nuernberglied
        }

    }
}


### Imperial Incident: Bayreuth Electorate
### Triggered if Bayreuth is a subject
dvg_hre.4 = {
    type = country_event
    placement = ROOT

    title = dvg_hre.4.t
    desc = dvg_hre.4.d
    flavor = dvg_hre.4.f

    event_image = {video = "unspecific_military_parade"}
    on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
    icon = "gfx/interface/icons/event_icons/event_default.dds"
    duration = 1

    immediate = {
        every_country = {
            limit = {
                has_subject_relation_with = c:FRE
            }
            save_scope_as = dvg_bayreuth_overlord
        }
    }

    trigger = {
        exists = c:FRE
        c:FRE = { is_subject = yes }

        this = c:BOH
    }

    option = {
        name = dvg_hre.4.a

        add_journal_entry = { type = je_hre_bayreuth_electorate }

    }
}

### Electorate of Baden
dvg_hre.5 = {
    type = country_event
    placement = ROOT

    title = dvg_hre.5.t
    desc = dvg_hre.5.d
    flavor = dvg_hre.5.f

    event_image = {video = "unspecific_military_parade"}
    on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
    icon = "gfx/interface/icons/event_icons/event_default.dds"
    duration = 1

    option = {
        name = dvg_hre.5.a

        add_modifier = dvg_electorate_baden

        join_power_bloc = c:BOH
        c:BOH.power_bloc = {
            add_leverage = { target = c:BAD value = 1000 }
        }

        add_journal_entry = { type = je_matter_of_swabia }

    }
}

### Bohemia demands independence of Bayreuth
dvg_hre.6 = {
    type = country_event
    placement = ROOT

    title = dvg_hre.6.t
    desc = dvg_hre.6.d
    flavor = dvg_hre.6.f

    event_image = {video = "unspecific_military_parade"}
    on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
    icon = "gfx/interface/icons/event_icons/event_default.dds"
    duration = 1

    option = { ## accept
        name = dvg_hre.6.a

        remove_diplomatic_pact = {
            country = c:FRE
            type = puppet
        }

        increase_hre_stability = yes

        ai_chance = {
            base = 100 ### AI should fear Bohemia and "return Bayreuth"
        }
    }


    option = { ## decline
        name = dvg_hre.6.b

        c:BOH = {
            create_diplomatic_play = {
                type = dp_liberate_subject
                target_country = c:FRE
            }
        }

    }
}


### Swabia ###

dvg_hre.7 = {
    type = country_event
    placement = ROOT

    title = dvg_hre.7.t
    desc = dvg_hre.7.d
    flavor = dvg_hre.7.f

    event_image = {video = "unspecific_military_parade"}
    on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
    icon = "gfx/interface/icons/event_icons/event_default.dds"
    duration = 1


    option = { ## Give to Bavaria
        name = dvg_hre.7.a

        c:BAV = {
            trigger_event = dvg_hre.8
        }

        c:BAD = {
            trigger_event = dvg_hre.9
        }

        ai_chance = {
            base = 50
        }
    }

    option = { ## Give to Baden
        name = dvg_hre.7.b

        c:BAV = {
            trigger_event = dvg_hre.9
        }

        c:BAD = {
            trigger_event = dvg_hre.8
        }

        ai_chance = {
            base = 50
        }

    }

}

### Free city of Ulm

dvg_hre.8 = {
    type = country_event
    placement = ROOT

    title = dvg_hre.8.t
    desc = dvg_hre.8.d
    flavor = dvg_hre.8.f

    event_image = {video = "unspecific_military_parade"}
    on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
    icon = "gfx/interface/icons/event_icons/event_default.dds"
    duration = 1


    option = { ## As expected
        name = dvg_hre.8.a

        create_diplomatic_pact = {
            type = puppet
            country = c:ULM
        }

        add_modifier = {
            name = recently_awarded_ulm
            days = 600
        }


    }



}

### We have been scorned
dvg_hre.9 = {
    type = country_event
    placement = ROOT

    title = dvg_hre.9.t
    desc = dvg_hre.9.d
    flavor = dvg_hre.9.f

    event_image = {video = "unspecific_military_parade"}
    on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
    icon = "gfx/interface/icons/event_icons/event_default.dds"
    duration = 1


    option = { ## This is an outrage
        name = dvg_hre.9.a
    }


}


### Baden Ultimatum

dvg_hre.10 = {
    type = country_event
    placement = ROOT

    title = dvg_hre.10.t
    desc = dvg_hre.10.d
    flavor = dvg_hre.10.f

    event_image = {video = "unspecific_military_parade"}
    on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
    icon = "gfx/interface/icons/event_icons/event_default.dds"
    duration = 1


    option = { ## I am to weak anakin
        name = dvg_hre.10.a

        c:BAD = {
            create_diplomatic_pact = {
                type = puppet
                country = c:WUR
            }
        }
    }


}

### Unification of Swabia

dvg_hre.11 = {
    type = country_event
    placement = ROOT

    title = dvg_hre.11.t
    desc = dvg_hre.11.d
    flavor = dvg_hre.11.f

    event_image = {video = "unspecific_military_parade"}
    on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
    icon = "gfx/interface/icons/event_icons/event_default.dds"
    duration = 1


    option = { ##
        name = dvg_hre.11.a

        decrease_hre_stability = yes
    }


}

### Bremen riots ###
dvg_hre.12 = {
    type = country_event
    placement = ROOT

    title = dvg_hre.12.t
    desc = dvg_hre.12.d
    flavor = dvg_hre.12.f

    event_image = {video = "unspecific_military_parade"}
    on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
    icon = "gfx/interface/icons/event_icons/event_default.dds"
    duration = 1

    trigger = {
        this = c:BOH
        game_date >= 1842.1.1
        c:BRE = { is_in_same_power_bloc = c:SCA }

        NOT = { has_variable = hre_BRE_riots_fired }
    }

    immediate = {
        set_variable = hre_BRE_riots_fired
    }

    option = { ##
        name = dvg_hre.12.a

        decrease_hre_stability = yes

        c:SCA = {
            trigger_event = dvg_hre.13
        }
    }

    option = { ##
        name = dvg_hre.12.b

        decrease_hre_stability = yes
    }
}


### Emperor demands ###
dvg_hre.13 = {
    type = country_event
    placement = ROOT

    title = dvg_hre.13.t
    desc = dvg_hre.13.d
    flavor = dvg_hre.13.f

    event_image = {video = "unspecific_military_parade"}
    on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
    icon = "gfx/interface/icons/event_icons/event_default.dds"
    duration = 1


    option = { ##
        name = dvg_hre.13.a

        c:BOH = {
            trigger_event = dvg_hre.14
        }
    }

    option = { ##
        name = dvg_hre.13.b

        c:BOH = {
            trigger_event = dvg_hre.15
        }

        create_diplomatic_pact = {
            type = puppet
            country = c:BRE
        }
    }
}

### Scandinavian garrison leaves Bremen
dvg_hre.14 = {
    type = country_event
    placement = ROOT

    title = dvg_hre.14.t
    desc = dvg_hre.14.d
    flavor = dvg_hre.14.f

    event_image = {video = "unspecific_military_parade"}
    on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
    icon = "gfx/interface/icons/event_icons/event_default.dds"
    duration = 1


    option = { ##
        name = dvg_hre.14.a

        c:BRE = { join_power_bloc = c:BOH }
        c:BOH.power_bloc = {
            add_leverage = { target = c:BRE value = 1000 }
        }

    }

}

### Scandinavian garrison occupies Bremen
dvg_hre.15 = {
    type = country_event
    placement = ROOT

    title = dvg_hre.15.t
    desc = dvg_hre.15.d
    flavor = dvg_hre.15.f

    event_image = {video = "unspecific_military_parade"}
    on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
    icon = "gfx/interface/icons/event_icons/event_default.dds"
    duration = 1


    option = { ##
        name = dvg_hre.15.a

        create_diplomatic_play = {
            type = dp_liberate_subject
            target_country = c:BRE
        }
    }

    option = { ##
        name = dvg_hre.15.b
        decrease_hre_stability = yes

    }
}

### Thuringian Succession
dvg_hre.16 = {
    type = country
    placement = ROOT

    title = dvg_hre.16.t
    desc = dvg_hre.16.d
    flavor = dvg_hre.16.f

    event_image = {video = "unspecific_military_parade"}
    on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
    icon = "gfx/interface/icons/event_icons/event_default.dds"
    duration = 1

    trigger = {
        game_date >= 1844.1.1
        exists = c:THU
        exists = c:SME
        c:SME = { is_subject_of = c:THU }
        this = c:BOH

        NOT = { has_journal_entry = je_hre_thuringian_succession }
        NOT = { has_variable = je_hre_thuringian_succession_resolved }

    }

    option = { ##
        name = dvg_hre.16.a

        add_journal_entry = { type = je_hre_thuringian_succession }
    }
}

### Thuringian Succession - Just Rumors
dvg_hre.17 = {
    type = country
    placement = ROOT

    title = dvg_hre.17.t
    desc = dvg_hre.17.d
    flavor = dvg_hre.17.f

    event_image = {video = "unspecific_military_parade"}
    on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
    icon = "gfx/interface/icons/event_icons/event_default.dds"
    duration = 1

    trigger = {
        this = c:BOH
        has_journal_entry = je_hre_thuringian_succession
        NOT = { has_variable = je_hre_thuringian_succession_resolved }
        c:THU = { NOT = { has_modifier = je_hre_thuringian_succession_modifier }}
    }

    option = { ##
        name = dvg_hre.17.a
        set_variable = je_hre_thuringian_succession_resolved

    }
}

### The Thuringian Succession - A Meeting in Erfurt
dvg_hre.18 = {
    type = country
    placement = ROOT

    title = dvg_hre.18.t
    desc = dvg_hre.18.d
    flavor = dvg_hre.18.f

    event_image = {video = "unspecific_military_parade"}
    on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
    icon = "gfx/interface/icons/event_icons/event_default.dds"
    duration = 1

    option = { ##
        name = dvg_hre.18.a
        set_variable = je_hre_thuringian_succession_resolved
        set_variable = je_hre_thuringian_succession_resolved_failure

        decrease_hre_stability = yes

    }
}
