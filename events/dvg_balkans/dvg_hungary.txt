### Author: Kallar ###
namespace = dvg_hungary

### Hungary starting Event
### The State of the Lands of the Szent Korona (Holy Crown)
dvg_hungary.1 = {

	event_image = { video = "unspecific_military_parade" }
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/waving_flag.dds"
	duration = 3

	type = country_event
	placement = ROOT
	
	title = dvg_hungary.1.t
	desc = dvg_hungary.1.d
	flavor = dvg_hungary.1.f

	option = {
		name = dvg_hungary.1.a
		default_option = yes
		
		trigger_event = {id = dvg_hungary.2 days = 30 }
	}

}

### Tensions in Nitra
dvg_hungary.2 = {

	event_image = { video = "votp_agitators_sneaking" }
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/protest.dds"
	duration = 3

	type = country_event
	placement = ROOT
	
	title = dvg_hungary.2.t
	desc = dvg_hungary.2.d
	flavor = dvg_hungary.2.f

	option = {
		name = dvg_hungary.2.a
		default_option = yes
		
		trigger_event = {id = dvg_hungary.3 days = 30 }
	}

}

### The King of the Hungarian Nation
dvg_hungary.3 = {

	event_image = { video = "votp_monarch_holding_court" }
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/portrait.dds"
	duration = 3

	type = country_event
	placement = ROOT
	
	title = dvg_hungary.3.t
	desc = dvg_hungary.3.d
	flavor = dvg_hungary.3.f

	option = {
		name = dvg_hungary.3.a
		default_option = yes
		
		trigger_event = {id = dvg_hungary.4 days = 30 }
	}
}

### The Nitran Conspiracy
dvg_hungary.4 = {

	event_image = { video = "votp_conspiring" }
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/fire.dds"
	duration = 3

	type = country_event
	placement = ROOT
	
	title = dvg_hungary.4.t
	desc = dvg_hungary.4.d
	flavor = dvg_hungary.4.f

	option = {
		name = dvg_hungary.4.a
		default_option = yes
		
		c:BOH = { trigger_event = {id = dvg_hungary.5 days = 30 } }
	}

}

### The Hungarian Crisis - Bohemia
dvg_hungary.5 = {

	event_image = { video = "votp_cops_march" }
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/skull.dds"
	duration = 3

	type = country_event
	placement = ROOT
	
	title = dvg_hungary.5.t
	desc = dvg_hungary.5.d
	flavor = dvg_hungary.5.f

	option = {
		name = dvg_hungary.5.a
		default_option = yes
		
		trigger_event = { id = dvg_hungary.7 days = 30 }

		c_HUN = { trigger_event = {id = dvg_hungary.6 days = 30 }}
	}
}

### The Rogue Diet of Nitra
dvg_hungary.6 = {

	event_image = { video = "votp_barricade" }
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/waving_flag.dds"
	duration = 3

	type = country_event
	placement = ROOT
	
	title = dvg_hungary.6.t
	desc = dvg_hungary.6.d
	flavor = dvg_hungary.6.f

	option = {
		name = dvg_hungary.6.a
		default_option = yes
		
	
	}
}

### The Prague conference
dvg_hungary.7 = {

	event_image = { video = "europenorthamerica_capitalists_meeting" }
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/newspaper.dds"
	duration = 3

	type = country_event
	placement = ROOT
	
	title = dvg_hungary.7.t
	desc = dvg_hungary.7.d
	flavor = dvg_hungary.7.f

	option = {
		name = dvg_hungary.7.a
		default_option = yes
		

		if = {
			limit = {
				this = c:BOH
			}

			add_journal_entry = { 
				type = je_hungarian_crisis
			}

			c:BRG = { trigger_event = {id = dvg_hungary.7 }}
			c:SCA = { trigger_event = {id = dvg_hungary.7 }}
			c:DUA = { trigger_event = {id = dvg_hungary.7 }}
			c:POL = { trigger_event = {id = dvg_hungary.7 }}
			c:BAV = { trigger_event = {id = dvg_hungary.7 }}
			c:AUS = { trigger_event = {id = dvg_hungary.7 }}
			c:TUR = { trigger_event = {id = dvg_hungary.7 }}
			c:HUN = { trigger_event = {id = dvg_hungary.7 }}

		}
		
		
		

	}

}

### The Prague conference - Hungarian Independence - Bohemia has to accept
dvg_hungary.8 = {

	event_image = { video = "europenorthamerica_capitalists_meeting" }
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/newspaper.dds"
	duration = 3

	type = country_event
	placement = ROOT
	
	title = dvg_hungary.8.t
	desc = dvg_hungary.8.d
	flavor = dvg_hungary.8.f

	option = {
		name = dvg_hungary.8.a
		default_option = yes

		set_global_variable = je_hungarian_crisis_vote_BOH_accepted

		c:BRG = { trigger_event = dvg_hungary.9 }
	}

	option = {
		name = dvg_hungary.8.b

		set_global_variable = je_hungarian_crisis_vote_rejected
		set_global_variable = je_hungarian_crisis_war_outcome

		c:BOH = {
            create_diplomatic_pact = {
                country = c:HUN
                type = puppet
            }
        }

		create_diplomatic_play = {
            type = dp_humiliation
            target_country = c:HUN

			add_war_goal = { holder = c:BOH target_country = c:BRG type = humiliation }
            add_war_goal = { holder = c:HUN target_country = c:BOH type = independence }
			
        }

		

		random_diplomatic_play = {
            limit = {
                initiator = c:BOH
                target = c:HUN
            }
            save_scope_as = dvg_hungarian_crisis_war
        }

		every_country = {
			limit = {
				has_variable = je_hungarian_crisis_voted_BOH
				NOT = { this = c:BRG }
				NOT = { this = c:HUN }
				NOT = { this = c:BOH }
			}

			scope:dvg_hungarian_crisis_war = {
				add_initiator_backers = {
					prev
				}
        	}

		}

		every_country = {
			limit = {
				has_variable = je_hungarian_crisis_voted_BRG
				NOT = { this = c:HUN }
				NOT = { this = c:BOH }
			}

			scope:dvg_hungarian_crisis_war = {
				add_target_backers = {
					prev
				}
        	}

		}

		

	}

}

### The Prague conference - Hungarian Independence - Burgundy has to accept
dvg_hungary.9 = {

	event_image = { video = "europenorthamerica_capitalists_meeting" }
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/newspaper.dds"
	duration = 3

	type = country_event
	placement = ROOT
	
	title = dvg_hungary.9.t
	desc = dvg_hungary.9.d
	flavor = dvg_hungary.9.f

	option = {
		name = dvg_hungary.9.a
		default_option = yes

		set_global_variable = je_hungarian_crisis_vote_BRG_accepted
	}

}

### The Prague conference - Hungarian Vassal - Bohemia has to accept
dvg_hungary.10 = {

	event_image = { video = "europenorthamerica_capitalists_meeting" }
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/newspaper.dds"
	duration = 3

	type = country_event
	placement = ROOT
	
	title = dvg_hungary.10.t
	desc = dvg_hungary.10.d
	flavor = dvg_hungary.10.f

	option = {
		name = dvg_hungary.10.a
		default_option = yes

		set_global_variable = je_hungarian_crisis_vote_BOH_accepted

		c:BRG = { trigger_event = dvg_hungary.11 }
	}

}

### The Prague conference - Hungarian Vassal - Burgundy has to accept
dvg_hungary.11 = {

	event_image = { video = "europenorthamerica_capitalists_meeting" }
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/newspaper.dds"
	duration = 3

	type = country_event
	placement = ROOT
	
	title = dvg_hungary.11.t
	desc = dvg_hungary.11.d
	flavor = dvg_hungary.11.f

	option = {
		name = dvg_hungary.11.a
		default_option = yes

		set_global_variable = je_hungarian_crisis_vote_BOH_accepted
	}

	option = {
		name = dvg_hungary.11.b

		set_global_variable = je_hungarian_crisis_vote_rejected
		set_global_variable = je_hungarian_crisis_war_outcome

		c:BOH = {
            create_diplomatic_pact = {
                country = c:HUN
                type = puppet
            }
        }

		create_diplomatic_play = {
            type = dp_liberate_subject
            target_country = c:HUN

			
			add_war_goal = { holder = c:BOH target_country = c:BRG type = humiliation }
        }

		random_diplomatic_play = {
            limit = {
                initiator = c:BRG
                target = c:BOH
            }
            save_scope_as = dvg_hungarian_crisis_war
        }

		every_country = {
			limit = {
				has_variable = je_hungarian_crisis_voted_BOH
				NOT = { this = c:BRG }
				NOT = { this = c:HUN }
				NOT = { this = c:BOH }
			}

			scope:dvg_hungarian_crisis_war = {
				add_target_backers = {
					prev
				}
        	}

		}

		every_country = {
			limit = {
				has_variable = je_hungarian_crisis_voted_BRG
				NOT = { this = c:BRG }
				NOT = { this = c:HUN }
				NOT = { this = c:BOH }
			}

			scope:dvg_hungarian_crisis_war = {
				add_initiator_backers = {
					prev
	trigger = {
		NOT = {
			has_variable = plc_speech
		}
	}

				}
        	}

		}

		

	}

}

### Jagiellon Hungary
dvg_hungary.12 = {

	event_image = { video = "europenorthamerica_capitalists_meeting" }
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/newspaper.dds"
	duration = 3

	type = country_event
	placement = ROOT
	
	title = dvg_hungary.12.t
	desc = dvg_hungary.12.d
	flavor = dvg_hungary.12.f

	option = {
		name = dvg_hungary.12.a
		default_option = yes

		if = {
			limit = { c:BOH ?= this }
			c:BOH = {
				create_diplomatic_pact = {
					country = c:HUN
					type = puppet
				}
			}
		}
		
		set_global_variable = je_hungarian_instability_complete 
	}

}

### Magyar Independence
dvg_hungary.13 = {

	event_image = { video = "europenorthamerica_capitalists_meeting" }
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/newspaper.dds"
	duration = 3

	type = country_event
	placement = ROOT
	
	title = dvg_hungary.13.t
	desc = dvg_hungary.13.d
	flavor = dvg_hungary.13.f

	option = {
		name = dvg_hungary.13.a
		default_option = yes

		set_global_variable = je_hungarian_instability_complete 
	}

}

### War for Hungary
dvg_hungary.14 = {

	event_image = { video = "europenorthamerica_capitalists_meeting" }
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/newspaper.dds"
	duration = 3

	type = country_event
	placement = ROOT
	
	title = dvg_hungary.14.t
	desc = dvg_hungary.14.d
	flavor = dvg_hungary.14.f

	option = {
		name = dvg_hungary.14.a
		default_option = yes

		set_global_variable = { je_hungarian_instability_complete }
	}

}
